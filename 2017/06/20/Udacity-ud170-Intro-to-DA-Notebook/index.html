<!doctype html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Udacity,Data Analysis," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="on the way stay stuned…">
<meta name="keywords" content="Udacity,Data Analysis">
<meta property="og:type" content="article">
<meta property="og:title" content="Udacity ud170 Intro to DA Notebook">
<meta property="og:url" content="https://ssq.github.io/2017/06/20/Udacity-ud170-Intro-to-DA-Notebook/index.html">
<meta property="og:site_name" content="SSQ">
<meta property="og:description" content="on the way stay stuned…">
<meta property="og:updated_time" content="2017-07-17T07:39:30.463Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Udacity ud170 Intro to DA Notebook">
<meta name="twitter:description" content="on the way stay stuned…">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://ssq.github.io/2017/06/20/Udacity-ud170-Intro-to-DA-Notebook/"/>





  <title>Udacity ud170 Intro to DA Notebook | SSQ</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-91307065-1', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?3c8ad2ecdd2387b44044b1d7cd3536a9";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">SSQ</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-friends">
          <a href="/friends" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-link"></i> <br />
            
            friends
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://ssq.github.io/2017/06/20/Udacity-ud170-Intro-to-DA-Notebook/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SSQ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SSQ">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Udacity ud170 Intro to DA Notebook</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-20T20:40:21+08:00">
                2017-06-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Udacity/" itemprop="url" rel="index">
                    <span itemprop="name">Udacity</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Udacity/Data-Analysis/" itemprop="url" rel="index">
                    <span itemprop="name">Data Analysis</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2017/06/20/Udacity-ud170-Intro-to-DA-Notebook/" class="leancloud_visitors" data-flag-title="Udacity ud170 Intro to DA Notebook">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>on the way</p>
<p>stay stuned…<br><a id="more"></a><br>This course can be found in <a href="https://classroom.udacity.com/courses/ud170" target="_blank" rel="external">udacity ud170</a>.</p>
<h1 id="Data-Analysis-Process"><a href="#Data-Analysis-Process" class="headerlink" title="Data Analysis Process"></a>Data Analysis Process</h1><h2 id="Setting-Up-Your-System"><a href="#Setting-Up-Your-System" class="headerlink" title="Setting Up Your System"></a>Setting Up Your System</h2><p>Otherwise, you can find the <a href="https://classroom.udacity.com/courses/ud1111" target="_blank" rel="external">free course</a> here. </p>
<h2 id="Intro-to-CSVs"><a href="#Intro-to-CSVs" class="headerlink" title="Intro to CSVs"></a>Intro to CSVs</h2><p>If you’d like to learn more about data wrangling, check out the Udacity course <a href="https://www.udacity.com/course/data-wrangling-with-mongodb--ud032" target="_blank" rel="external">Data Wrangling with MongoDB</a>.</p>
<h2 id="CSVs-in-Python"><a href="#CSVs-in-Python" class="headerlink" title="CSVs in Python"></a>CSVs in Python</h2><p><a href="https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/22sQCo6ovH0.mp4" target="_blank" rel="external">https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/22sQCo6ovH0.mp4</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">import unicodecsv</div><div class="line"></div><div class="line">enrollments_filename = &apos;/datasets/ud170/udacity-students/enrollments.csv&apos;</div><div class="line"></div><div class="line">## Longer version of code (replaced with shorter, equivalent version below)</div><div class="line"></div><div class="line"># enrollments = []</div><div class="line"># f = open(enrollments_filename, &apos;rb&apos;)</div><div class="line"># reader = unicodecsv.DictReader(f)</div><div class="line"># for row in reader:</div><div class="line">#     enrollments.append(row)</div><div class="line"># f.close()</div><div class="line"></div><div class="line">with open(enrollments_filename, &apos;rb&apos;) as f:</div><div class="line">    reader = unicodecsv.DictReader(f)</div><div class="line">    enrollments = list(reader)</div><div class="line">    </div><div class="line">### Write code similar to the above to load the engagement</div><div class="line">### and submission data. The data is stored in files with</div><div class="line">### the given filenames. Then print the first row of each</div><div class="line">### table to make sure that your code works. You can use the</div><div class="line">### &quot;Test Run&quot; button to see the output of your code.</div><div class="line"></div><div class="line">engagement_filename = &apos;/datasets/ud170/udacity-students/daily_engagement.csv&apos;</div><div class="line">submissions_filename = &apos;/datasets/ud170/udacity-students/project_submissions.csv&apos;</div><div class="line">    </div><div class="line">daily_engagement = None     # Replace this with your code</div><div class="line">project_submissions = None  # Replace this with your code</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">with open(engagement_filename, &apos;rb&apos;) as f:</div><div class="line">    reader = unicodecsv.DictReader(f)</div><div class="line">    daily_engagement = list(reader)    </div><div class="line">print daily_engagement[0]</div><div class="line"></div><div class="line">with open(submissions_filename, &apos;rb&apos;) as f:</div><div class="line">    reader = unicodecsv.DictReader(f)</div><div class="line">    project_submissions = list(reader)</div><div class="line">print project_submissions[0]</div></pre></td></tr></table></figure>
<h3 id="Python’s-csv-Module"><a href="#Python’s-csv-Module" class="headerlink" title="Python’s csv Module"></a>Python’s csv Module</h3><p><a href="https://docs.python.org/2/library/csv.html" target="_blank" rel="external">This page</a> contains documentation for Python’s csv module. Instead of csv, you’ll be using unicodecsv in this course. unicodecsv works exactly the same as csv, but it comes with Anaconda and has support for unicode. The csv documentation page is still the best way to learn how to use the unicodecsv library, since the two libraries work exactly the same way.</p>
<h3 id="Iterators-in-Python"><a href="#Iterators-in-Python" class="headerlink" title="Iterators in Python"></a>Iterators in Python</h3><p><a href="https://www.codementor.io/python/tutorial/python-generators-and-iterators" target="_blank" rel="external">This page</a> explains the difference between iterators and lists in Python, and how to use iterators.</p>
<h3 id="Solutions"><a href="#Solutions" class="headerlink" title="Solutions"></a>Solutions</h3><p><a href="https://classroom.udacity.com/nanodegrees/nd002/parts/0021345403/modules/317671873575460/lessons/5430778793/concepts/3cde04b0-873d-41b8-a618-526cd8b5bb35#" target="_blank" rel="external">DAND students click here for solution code</a></p>
<p>IPND students: Look at the end of this lesson for Quiz Solutions</p>
<h2 id="Fixing-Data-Types"><a href="#Fixing-Data-Types" class="headerlink" title="Fixing Data Types"></a>Fixing Data Types</h2><p><a href="https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/7NSYtdVrlRE.mp4" target="_blank" rel="external">https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/7NSYtdVrlRE.mp4</a></p>
<h2 id="Questions-about-Student-Data"><a href="#Questions-about-Student-Data" class="headerlink" title="Questions about Student Data"></a>Questions about Student Data</h2><p><a href="https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/AO8vSyAtfV4.mp4" target="_blank" rel="external">https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/AO8vSyAtfV4.mp4</a></p>
<h2 id="Investigating-the-Data"><a href="#Investigating-the-Data" class="headerlink" title="Investigating the Data"></a>Investigating the Data</h2><p>Now you’ve started the data wrangling process by loading the data and making sure it’s in a good format. The next step is to investigate a bit and see if there are any inconsistencies or problems in the data that you’ll need to clean up.</p>
<p>For each of the three files you’ve loaded, find the total number of rows in the csv and the number of unique students. To find the number of unique students in each table, you might want to try creating a set of the account keys.</p>
<p>Again, in case you’re not finished with your local setup, you can complete this exercise in the Udacity code editor. You’ll need to run the next exercise locally, though, so if you haven’t finished setting up, you should do that now.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">import unicodecsv</div><div class="line"></div><div class="line">def read_csv(filename):</div><div class="line">    with open(filename, &apos;rb&apos;) as f:</div><div class="line">        reader = unicodecsv.DictReader(f)</div><div class="line">        return list(reader)</div><div class="line"></div><div class="line">enrollments = read_csv(&apos;/datasets/ud170/udacity-students/enrollments.csv&apos;)</div><div class="line">daily_engagement = read_csv(&apos;/datasets/ud170/udacity-students/daily_engagement.csv&apos;)</div><div class="line">project_submissions = read_csv(&apos;/datasets/ud170/udacity-students/project_submissions.csv&apos;)</div><div class="line">    </div><div class="line">### For each of these three tables, find the number of rows in the table and</div><div class="line">### the number of unique students in the table. To find the number of unique</div><div class="line">### students, you might want to create a set of the account keys in each table.</div><div class="line"></div><div class="line">enrollment_num_rows = 0             # Replace this with your code</div><div class="line">enrollment_num_unique_students = 0  # Replace this with your code</div><div class="line"></div><div class="line">engagement_num_rows = 0             # Replace this with your code</div><div class="line">engagement_num_unique_students = 0  # Replace this with your code</div><div class="line"></div><div class="line">submission_num_rows = 0             # Replace this with your code</div><div class="line">submission_num_unique_students = 0  # Replace this with your code</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">def unique_num(data):</div><div class="line">    unique_data = set()</div><div class="line">    for element in data:</div><div class="line">        if &apos;acct&apos; in element:</div><div class="line">            element[&apos;account_key&apos;] = element[&apos;acct&apos;]</div><div class="line">            del element[&apos;acct&apos;]</div><div class="line">        unique_data.add(element[&apos;account_key&apos;])</div><div class="line">    return len(unique_data)</div><div class="line"></div><div class="line">print enrollments[0]</div><div class="line">enrollment_num_rows = len(enrollments)             # Replace this with your code</div><div class="line">enrollment_num_unique_students = unique_num(enrollments)  # Replace this with your code</div><div class="line">print enrollment_num_rows</div><div class="line">print enrollment_num_unique_students</div><div class="line"></div><div class="line">    </div><div class="line">print daily_engagement[0]</div><div class="line">engagement_num_rows = len(daily_engagement)             # Replace this with your code</div><div class="line">print engagement_num_rows</div><div class="line">engagement_num_unique_students = unique_num(daily_engagement)  # Replace this with your code</div><div class="line">print engagement_num_unique_students</div><div class="line"></div><div class="line">print project_submissions[0]</div><div class="line">submission_num_rows = len(project_submissions)             # Replace this with your code</div><div class="line">submission_num_unique_students = unique_num(project_submissions)  # Replace this with your code</div><div class="line">print submission_num_rows</div><div class="line">print submission_num_unique_students</div></pre></td></tr></table></figure>
<h2 id="Problems-in-the-Data"><a href="#Problems-in-the-Data" class="headerlink" title="Problems in the Data"></a>Problems in the Data</h2><h3 id="Removing-an-Element-from-a-Dictionary"><a href="#Removing-an-Element-from-a-Dictionary" class="headerlink" title="Removing an Element from a Dictionary"></a>Removing an Element from a Dictionary</h3><p>If you’re not sure how to remove an element from a dictionary, <a href="http://stackoverflow.com/questions/5844672/delete-an-element-from-a-dictionary" target="_blank" rel="external">this</a> post might be helpful.</p>
<h3 id="Solutions-1"><a href="#Solutions-1" class="headerlink" title="Solutions"></a>Solutions</h3><p><a href="https://classroom.udacity.com/nanodegrees/nd002/parts/0021345403/modules/317671873575460/lessons/5430778793/concepts/3cde04b0-873d-41b8-a618-526cd8b5bb35#" target="_blank" rel="external">DAND students click here for solution code</a></p>
<p>IPND students: Look at the end of this lesson for Quiz Solutions</p>
<h3 id="Updated-Code-for-Previous-Exercise"><a href="#Updated-Code-for-Previous-Exercise" class="headerlink" title="Updated Code for Previous Exercise"></a>Updated Code for Previous Exercise</h3><p>After running the above code, Caroline also shows rewriting the solution from the previous exercise to the following code:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">def get_unique_students(data):</div><div class="line">    unique_students = set()</div><div class="line">    for data_point in data:</div><div class="line">        unique_students.add(data_point[&apos;account_key&apos;])</div><div class="line">    return unique_students</div><div class="line">len(enrollments)</div><div class="line">unique_enrolled_students = get_unique_students(enrollments)</div><div class="line">len(unique_enrolled_students)</div><div class="line">len(daily_engagement)</div><div class="line">unique_engagement_students = get_unique_students(daily_engagement)</div><div class="line">len(unique_engagement_students)</div><div class="line">len(project_submissions)</div><div class="line">unique_project_submitters = get_unique_students(project_submissions)</div><div class="line">len(unique_project_submitters)</div></pre></td></tr></table></figure></p>
<h2 id="Missing-Engagement-Records"><a href="#Missing-Engagement-Records" class="headerlink" title="Missing Engagement Records"></a>Missing Engagement Records</h2><p>Printing a Single Row<br><a href="http://www.tutorialspoint.com/python/python_break_statement.htm" target="_blank" rel="external">This page</a> describes how to use Python’s <code>break</code> statement, which might be helpful for printing only a single problem record.</p>
<p>Solutions<br><a href="https://classroom.udacity.com/nanodegrees/nd002/parts/0021345403/modules/317671873575460/lessons/5430778793/concepts/3cde04b0-873d-41b8-a618-526cd8b5bb35#" target="_blank" rel="external">DAND students click here for solution code</a></p>
<p>IPND students: Look at the end of this lesson for Quiz Solutions</p>
<h2 id="Checking-for-More-Problem-Records"><a href="#Checking-for-More-Problem-Records" class="headerlink" title="Checking for More Problem Records"></a>Checking for More Problem Records</h2><h2 id="Tracking-Down-the-Remaining-Problems"><a href="#Tracking-Down-the-Remaining-Problems" class="headerlink" title="Tracking Down the Remaining Problems"></a>Tracking Down the Remaining Problems</h2><h2 id="Refining-the-Question"><a href="#Refining-the-Question" class="headerlink" title="Refining the Question"></a>Refining the Question</h2><h3 id="Exploratory-Data-Analysis"><a href="#Exploratory-Data-Analysis" class="headerlink" title="Exploratory Data Analysis"></a>Exploratory Data Analysis</h3><p>If you’d like to learn more about the exploratory phase of the data analysis process, check out the Udacity course <a href="https://www.udacity.com/course/data-analysis-with-r--ud651" target="_blank" rel="external">Data Analysis with R</a>.</p>
<h3 id="Solutions-2"><a href="#Solutions-2" class="headerlink" title="Solutions"></a>Solutions</h3><p><a href="https://classroom.udacity.com/nanodegrees/nd002/parts/0021345403/modules/317671873575460/lessons/5430778793/concepts/3cde04b0-873d-41b8-a618-526cd8b5bb35#" target="_blank" rel="external">DAND students click here for solution code</a></p>
<p>IPND students: Look at the end of this lesson for Quiz Solutions</p>
<h2 id="Getting-Data-from-First-Week"><a href="#Getting-Data-from-First-Week" class="headerlink" title="Getting Data from First Week"></a>Getting Data from First Week</h2><p><a href="https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/adqc5fF5B8Y.mp4" target="_blank" rel="external">https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/adqc5fF5B8Y.mp4</a><br><a href="https://classroom.udacity.com/courses/ud170/lessons/5430778793/concepts/53961386350923" target="_blank" rel="external">https://classroom.udacity.com/courses/ud170/lessons/5430778793/concepts/53961386350923</a></p>
<p>Note that paid students may have canceled from other courses before paying, and the suggested solution will retain records from these other enrollments.</p>
<h2 id="Indulge-Curiosity"><a href="#Indulge-Curiosity" class="headerlink" title="Indulge Curiosity"></a>Indulge Curiosity</h2><h2 id="Exploring-Student-Engagement"><a href="#Exploring-Student-Engagement" class="headerlink" title="Exploring Student Engagement"></a>Exploring Student Engagement</h2><h2 id="Debugging-Data-Analysis-Code"><a href="#Debugging-Data-Analysis-Code" class="headerlink" title="Debugging Data Analysis Code"></a>Debugging Data Analysis Code</h2><h2 id="Lessons-Completed-in-First-Week"><a href="#Lessons-Completed-in-First-Week" class="headerlink" title="Lessons Completed in First Week"></a>Lessons Completed in First Week</h2><h2 id="Number-of-Visits-in-the-First-Week"><a href="#Number-of-Visits-in-the-First-Week" class="headerlink" title="Number of Visits in the First Week"></a>Number of Visits in the First Week</h2><p><a href="https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/5GYA5j1fqBU.mp4" target="_blank" rel="external">https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/5GYA5j1fqBU.mp4</a><br><a href="https://classroom.udacity.com/courses/ud170/lessons/5430778793/concepts/53961386450923" target="_blank" rel="external">https://classroom.udacity.com/courses/ud170/lessons/5430778793/concepts/53961386450923</a></p>
<h2 id="Splitting-out-Passing-Students"><a href="#Splitting-out-Passing-Students" class="headerlink" title="Splitting out Passing Students"></a>Splitting out Passing Students</h2><h2 id="Quiz-Comparing-the-Two-Student-Groups"><a href="#Quiz-Comparing-the-Two-Student-Groups" class="headerlink" title="Quiz: Comparing the Two Student Groups"></a>Quiz: Comparing the Two Student Groups</h2><h2 id="Quiz-Making-Histograms"><a href="#Quiz-Making-Histograms" class="headerlink" title="Quiz: Making Histograms"></a>Quiz: Making Histograms</h2><h3 id="Visualizing-data"><a href="#Visualizing-data" class="headerlink" title="Visualizing data"></a>Visualizing data</h3><p>Even though you know the mean, standard deviation, maximum, and minimum of various metrics, there are a lot of other facts about each metric that would be nice to know. Are more values close to the minimum or the maximum? What is the median? And so on.</p>
<p>Instead of printing out more statistics, at this point it makes sense to visualize the data using a histogram.</p>
<h3 id="Making-histograms-in-Python"><a href="#Making-histograms-in-Python" class="headerlink" title="Making histograms in Python"></a>Making histograms in Python</h3><p>To make a histogram in Python, you can use the matplotlib library, which comes with Anaconda. The following code will make a histogram of an example list of data points called <code>data</code>.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">data = [1, 2, 1, 3, 3, 1, 4, 2]</div><div class="line"></div><div class="line">%matplotlib inline</div><div class="line">import matplotlib.pyplot as plt</div><div class="line">plt.hist(data)</div></pre></td></tr></table></figure></p>
<p>The line <code>%matplotlib</code> inline is specifically for IPython notebook, and causes your plots to appear in your notebook rather than a new window. If you are not using IPython notebook, you should not include this line, and instead you should add the line <code>plt.show()</code> at the bottom to show the plot in a new window.</p>
<h3 id="Making-histograms-of-student-data"><a href="#Making-histograms-of-student-data" class="headerlink" title="Making histograms of student data"></a>Making histograms of student data</h3><p>Now use this method to make a histogram of each of the three metrics we looked at for both students who pass the subway project and students who don’t. That is, you should create 6 histograms. Do any of the metrics have histograms with very different shapes for students who pass the subway project vs. those who don’t?</p>
<p>You can also create histograms of the metrics you explored on your own if you’d like.</p>
<h2 id="Are-your-Results-Just-Noise"><a href="#Are-your-Results-Just-Noise" class="headerlink" title="Are your Results Just Noise?"></a>Are your Results Just Noise?</h2><h3 id="Statistics"><a href="#Statistics" class="headerlink" title="Statistics"></a>Statistics</h3><p>If you’d like to learn more about statistics, which you can use to rigorously determine how likely it is that your results are due to chance, check out the Udacity courses <a href="https://www.udacity.com/course/intro-to-descriptive-statistics--ud827" target="_blank" rel="external">Intro to Descriptive Statistics</a> and <a href="https://www.udacity.com/course/intro-to-inferential-statistics--ud201" target="_blank" rel="external">Intro to Inferential Statistics</a>.</p>
<h2 id="Correlation-Does-Not-Imply-Causation"><a href="#Correlation-Does-Not-Imply-Causation" class="headerlink" title="Correlation Does Not Imply Causation"></a>Correlation Does Not Imply Causation</h2><h3 id="Cheese-and-Bedsheet-Tangling"><a href="#Cheese-and-Bedsheet-Tangling" class="headerlink" title="Cheese and Bedsheet Tangling"></a>Cheese and Bedsheet Tangling</h3><p>To see the plot shown in the video, as well as many other amusing or strange correlations, check out this <a href="http://tylervigen.com/spurious-correlations" target="_blank" rel="external">website</a>.</p>
<h3 id="A-B-Testing"><a href="#A-B-Testing" class="headerlink" title="A/B Testing"></a>A/B Testing</h3><p>To learn more about using online experiments to determine whether one change causes another, take the Udacity course <a href="https://www.udacity.com/course/ab-testing--ud257" target="_blank" rel="external">A/B Testing</a>.</p>
<h2 id="Predicting-Based-on-Many-Features"><a href="#Predicting-Based-on-Many-Features" class="headerlink" title="Predicting Based on Many Features"></a>Predicting Based on Many Features</h2><h3 id="Machine-Learning"><a href="#Machine-Learning" class="headerlink" title="Machine Learning"></a>Machine Learning</h3><p>To learn more about using machine learning to automatically make predictions, take the Udacity course <a href="https://www.udacity.com/course/intro-to-machine-learning--ud120" target="_blank" rel="external">Intro to Machine Learning</a>.</p>
<h2 id="Communication"><a href="#Communication" class="headerlink" title="Communication"></a>Communication</h2><h2 id="Quiz-Improving-Plots-and-Sharing-Findings"><a href="#Quiz-Improving-Plots-and-Sharing-Findings" class="headerlink" title="Quiz: Improving Plots and Sharing Findings"></a>Quiz: Improving Plots and Sharing Findings</h2><h3 id="Adding-labels-and-titles"><a href="#Adding-labels-and-titles" class="headerlink" title="Adding labels and titles"></a>Adding labels and titles</h3><p>In matplotlib, you can add axis labels using <code>plt.xlabel(&quot;Label for x axis&quot;)</code> and <code>plt.ylabel(&quot;Label for y axis&quot;)</code>. For histograms, you usually only need an x-axis label, but for other plot types a y-axis label may also be needed. You can also add a title using <code>plt.title(&quot;Title of plot&quot;)</code>.</p>
<h3 id="Making-plots-look-nicer-with-seaborn"><a href="#Making-plots-look-nicer-with-seaborn" class="headerlink" title="Making plots look nicer with seaborn"></a>Making plots look nicer with seaborn</h3><p>You can automatically make matplotlib plots look nicer using the seaborn library. This library is not automatically included with Anaconda, but Anaconda includes something called a package manager to make it easier to add new libraries. The package manager is called conda, and to use it, you should open the Command Prompt (on a PC) or terminal (on Mac or Linux), and type the command <code>conda install seaborn</code>.</p>
<p>If you are using a different Python installation than Anaconda, you may have a different package manager. The most common ones are pip and easy_install, and you can use them with the commands <code>pip install seaborn</code> or <code>easy_install seaborn</code> respectively.</p>
<p>Once you have installed seaborn, you can import it anywhere in your code using the line <code>import seaborn as sns</code>. Then any plot you make afterwards will automatically look better. Give it a try!</p>
<p>If you’re wondering why the abbreviation for seaborn is sns, it’s because seaborn was named after the character Samuel Norman Seaborn from the show The West Wing, and sns are his initials.</p>
<p>The seaborn package also includes some extra functions you can use to make complex plots that would be difficult in matplotlib. We won’t be covering those in this course, but if you’d like to see what functions seaborn has available, you can look through the documentation.</p>
<h3 id="Adding-extra-arguments-to-your-plot"><a href="#Adding-extra-arguments-to-your-plot" class="headerlink" title="Adding extra arguments to your plot"></a>Adding extra arguments to your plot</h3><p>You’ll also frequently want to add some arguments to your plot to tune how it looks. You can see what arguments are available on the documentation page for the hist function. One common argument to pass is the <code>bins</code> argument, which sets the number of bins used by your histogram. For example, <code>plt.hist(data, bins=20)</code> would make sure your histogram has 20 bins.</p>
<h3 id="Improving-one-of-your-plots"><a href="#Improving-one-of-your-plots" class="headerlink" title="Improving one of your plots"></a>Improving one of your plots</h3><p>Use these techniques to improve at least one of the plots you made earlier.</p>
<h3 id="Sharing-your-findings"><a href="#Sharing-your-findings" class="headerlink" title="Sharing your findings"></a>Sharing your findings</h3><p>Finally, decide which of the discoveries you made this lesson you would most want to communicate to someone else, and write a forum post sharing your findings.</p>
<h2 id="Data-Analysis-and-Related-Terms"><a href="#Data-Analysis-and-Related-Terms" class="headerlink" title="Data Analysis and Related Terms"></a>Data Analysis and Related Terms</h2><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p><a href="https://www.udacity.com/api/nodes/5407139148/supplemental_media/l1-solution-codeipynb/download" target="_blank" rel="external">L1_Solution_Code.ipynb</a></p>
<h2 id="Quiz-Solutions"><a href="#Quiz-Solutions" class="headerlink" title="Quiz Solutions"></a>Quiz Solutions</h2><h3 id="CSVs-in-Python-1"><a href="#CSVs-in-Python-1" class="headerlink" title="CSVs in Python"></a>CSVs in Python</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">import unicodecsv</div><div class="line"></div><div class="line">def read_csv(filename):</div><div class="line">    with open(filename, &apos;rb&apos;) as f:</div><div class="line">        reader = unicodecsv.DictReader(f)</div><div class="line">        return list(reader)</div><div class="line"></div><div class="line">enrollments = read_csv(&apos;enrollments.csv&apos;)</div><div class="line">daily_engagement = read_csv(&apos;daily_engagement.csv&apos;)</div><div class="line">project_submissions = read_csv(&apos;project_submissions.csv&apos;)</div></pre></td></tr></table></figure>
<h3 id="Investigating-the-Data-1"><a href="#Investigating-the-Data-1" class="headerlink" title="Investigating the Data"></a>Investigating the Data</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">len(enrollments)</div><div class="line"></div><div class="line">unique_enrolled_students = set()</div><div class="line">for enrollment in enrollments:</div><div class="line">    unique_enrolled_students.add(enrollment[&apos;account_key&apos;])</div><div class="line">len(unique_enrolled_students)</div><div class="line"></div><div class="line">len(daily_engagement)</div><div class="line"></div><div class="line">unique_engagement_students = set()</div><div class="line">for engagement_record in daily_engagement:</div><div class="line">    unique_engagement_students.add(engagement_record[&apos;acct&apos;])</div><div class="line">len(unique_engagement_students)</div><div class="line"></div><div class="line">len(project_submissions)</div><div class="line"></div><div class="line">unique_project_submitters = set()</div><div class="line">for submission in project_submissions:</div><div class="line">    unique_project_submitters.add(submission[&apos;account_key&apos;])</div><div class="line">len(unique_project_submitters)</div></pre></td></tr></table></figure>
<h3 id="Problems-in-the-Data-1"><a href="#Problems-in-the-Data-1" class="headerlink" title="Problems in the Data"></a>Problems in the Data</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">for engagement_record in daily_engagement:</div><div class="line">    engagement_record[&apos;account_key&apos;] = engagement_record[&apos;acct&apos;]</div><div class="line">    del[engagement_record[&apos;acct&apos;]]</div></pre></td></tr></table></figure>
<h3 id="Missing-engagement-records"><a href="#Missing-engagement-records" class="headerlink" title="Missing engagement records"></a>Missing engagement records</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">for enrollment in enrollments:</div><div class="line">    student = enrollment[&apos;account_key&apos;]</div><div class="line">    if student not in unique_engagement_students:</div><div class="line">        print enrollment</div><div class="line">        break</div></pre></td></tr></table></figure>
<h3 id="Checking-for-more-problem-records"><a href="#Checking-for-more-problem-records" class="headerlink" title="Checking for more problem records"></a>Checking for more problem records</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">num_problem_students = 0</div><div class="line">for enrollment in enrollments:</div><div class="line">    student = enrollment[&apos;account_key&apos;]</div><div class="line">    if (student not in unique_engagement_students and </div><div class="line">            enrollment[&apos;join_date&apos;] != enrollment[&apos;cancel_date&apos;]):</div><div class="line">        print enrollment</div><div class="line">        num_problem_students += 1</div></pre></td></tr></table></figure>
<p>num_problem_students</p>
<h3 id="Refining-the-Question-1"><a href="#Refining-the-Question-1" class="headerlink" title="Refining the Question"></a>Refining the Question</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">paid_students = &#123;&#125;</div><div class="line">for enrollment in non_udacity_enrollments:</div><div class="line">    if (not enrollment[&apos;is_canceled&apos;] or</div><div class="line">            enrollment[&apos;days_to_cancel&apos;] &gt; 7):</div><div class="line">        account_key = enrollment[&apos;account_key&apos;]</div><div class="line">        enrollment_date = enrollment[&apos;join_date&apos;]</div><div class="line">        if (account_key not in paid_students or</div><div class="line">                enrollment_date &gt; paid_students[account_key]):</div><div class="line">            paid_students[account_key] = enrollment_date</div><div class="line">len(paid_students)</div></pre></td></tr></table></figure>
<p>Note that if you switch the order of the second if statement like so</p>
<p>if (enrollment_date &gt; paid_students[account_key] or<br>account_key not in paid_students)<br>you will most likely get an error. Why do you think that is? Check out this Stackoverflow discussion to find out more: <a href="http://stackoverflow.com/questions/13960657/does-python-evaluate-ifs-conditions-lazily" target="_blank" rel="external">http://stackoverflow.com/questions/13960657/does-python-evaluate-ifs-conditions-lazily</a></p>
<h3 id="Getting-Data-from-First-Week-1"><a href="#Getting-Data-from-First-Week-1" class="headerlink" title="Getting Data from First Week"></a>Getting Data from First Week</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">def within_one_week(join_date, engagement_date):</div><div class="line">    time_delta = engagement_date - join_date</div><div class="line">    return time_delta.days &lt; 7</div><div class="line"></div><div class="line">def remove_free_trial_cancels(data):</div><div class="line">    new_data = []</div><div class="line">    for data_point in data:</div><div class="line">        if data_point[&apos;account_key&apos;] in paid_students:</div><div class="line">            new_data.append(data_point)</div><div class="line">    return new_data</div><div class="line"></div><div class="line">paid_enrollments = remove_free_trial_cancels(non_udacity_enrollments)</div><div class="line">paid_engagement = remove_free_trial_cancels(non_udacity_engagement)</div><div class="line">paid_submissions = remove_free_trial_cancels(non_udacity_submissions)</div><div class="line"></div><div class="line">print len(paid_enrollments)</div><div class="line">print len(paid_engagement)</div><div class="line">print len(paid_submissions)</div><div class="line"></div><div class="line">paid_engagement_in_first_week = []</div><div class="line">for engagement_record in paid_engagement:</div><div class="line">    account_key = engagement_record[&apos;account_key&apos;]</div><div class="line">    join_date = paid_students[account_key]</div><div class="line">    engagement_record_date = engagement_record[&apos;utc_date&apos;]</div><div class="line"></div><div class="line">    if within_one_week(join_date, engagement_record_date):</div><div class="line">         paid_engagement_in_first_week.append(engagement_record)</div><div class="line"></div><div class="line">len(paid_engagement_in_first_week)</div></pre></td></tr></table></figure>
<h3 id="Debugging-Data-Analysis-Code-1"><a href="#Debugging-Data-Analysis-Code-1" class="headerlink" title="Debugging Data Analysis Code"></a>Debugging Data Analysis Code</h3><p>Here is the code Caroline shows in the solution video:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">student_with_max_minutes = None</div><div class="line">max_minutes = 0</div><div class="line"></div><div class="line">for student, total_minutes in total_minutes_by_account.items():</div><div class="line">    if total_minutes &gt; max_minutes:</div><div class="line">        max_minutes = total_minutes</div><div class="line">        student_with_max_minutes = student</div><div class="line"></div><div class="line">max_minutes</div><div class="line"></div><div class="line">for engagement_record in paid_engagement_in_first_week:</div><div class="line">    if engagement_record[&apos;account_key&apos;] == student_with_max_minutes:</div><div class="line">        print engagement_record</div></pre></td></tr></table></figure></p>
<p>Alternatively, you can find the account key with the maximum minutes using this shorthand notation:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">max(total_minutes_by_account.items(), key=lambda pair: pair[1])</div></pre></td></tr></table></figure></p>
<h3 id="Fixing-Bug-in-within-one-week"><a href="#Fixing-Bug-in-within-one-week" class="headerlink" title="Fixing Bug in within_one_week()"></a>Fixing Bug in within_one_week()</h3><p>She also updated the code for the <code>within_one_week</code> function to the following:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">def within_one_week(join_date, engagement_date):</div><div class="line">    time_delta = engagement_date - join_date</div><div class="line">    return time_delta.days &gt;= 0 and time_delta.days &lt; 7</div></pre></td></tr></table></figure></p>
<h3 id="Lessons-Completed-in-First-Week-1"><a href="#Lessons-Completed-in-First-Week-1" class="headerlink" title="Lessons Completed in First Week"></a>Lessons Completed in First Week</h3><p>First, Caroline refactors the given code to analyze total minutes spent in the first week into the following:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">from collections import defaultdict</div><div class="line"></div><div class="line">def group_data(data, key_name):</div><div class="line">    grouped_data = defaultdict(list)</div><div class="line">    for data_point in data:</div><div class="line">        key = data_point[key_name]</div><div class="line">        grouped_data[key].append(data_point)</div><div class="line">    return grouped_data</div><div class="line"></div><div class="line">engagement_by_account = group_data(paid_engagement_in_first_week,</div><div class="line">                                   &apos;account_key&apos;)</div><div class="line"></div><div class="line">def sum_grouped_items(grouped_data, field_name):</div><div class="line">    summed_data = &#123;&#125;</div><div class="line">    for key, data_points in grouped_data.items():</div><div class="line">        total = 0</div><div class="line">        for data_point in data_points:</div><div class="line">            total += data_point[field_name]</div><div class="line">        summed_data[key] = total</div><div class="line">    return summed_data</div><div class="line"></div><div class="line">total_minutes_by_account = sum_grouped_items(engagement_by_account,</div><div class="line">                                             &apos;total_minutes_visited&apos;)</div><div class="line"></div><div class="line">import numpy as np</div><div class="line"></div><div class="line">def describe_data(data):</div><div class="line">    print &apos;Mean:&apos;, np.mean(data)</div><div class="line">    print &apos;Standard deviation:&apos;, np.std(data)</div><div class="line">    print &apos;Minimum:&apos;, np.min(data)</div><div class="line">    print &apos;Maximum:&apos;, np.max(data)</div><div class="line"></div><div class="line">describe_data(total_minutes_by_account.values())</div></pre></td></tr></table></figure></p>
<p>Then she called the functions she created to analyze the lessons completed in the first week as follows:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">lessons_completed_by_account = sum_grouped_items(engagement_by_account,</div><div class="line">                                                 &apos;lessons_completed&apos;)</div><div class="line">describe_data(lessons_completed_by_account.values())</div></pre></td></tr></table></figure></p>
<h3 id="Number-of-Visits-in-the-First-Week-1"><a href="#Number-of-Visits-in-the-First-Week-1" class="headerlink" title="Number of Visits in the First Week"></a>Number of Visits in the First Week</h3><p>Here is the code Caroline shows in the solution video. First she ran this code to create the <code>has_visited</code> field:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">for engagement_record in paid_engagement:</div><div class="line">    if engagement_record[&apos;num_courses_visited&apos;] &gt; 0:</div><div class="line">        engagement_record[&apos;has_visited&apos;] = 1</div><div class="line">    else:</div><div class="line">        engagement_record[&apos;has_visited&apos;] = 0</div></pre></td></tr></table></figure></p>
<p>Then, after recreating the <code>engagement_by_account</code> dictionary with the updated data, she ran the following code to analyze days visited in the first week:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">days_visited_by_account = sum_grouped_items(engagement_by_account,</div><div class="line">                                            &apos;has_visited&apos;)</div><div class="line">describe_data(days_visited_by_account.values())</div></pre></td></tr></table></figure></p>
<h3 id="Splitting-out-Passing-Students-1"><a href="#Splitting-out-Passing-Students-1" class="headerlink" title="Splitting out Passing Students"></a>Splitting out Passing Students</h3><p>Here is the code Caroline shows in the solution video:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">subway_project_lesson_keys = [&apos;746169184&apos;, &apos;3176718735&apos;]</div><div class="line"></div><div class="line">pass_subway_project = set()</div><div class="line"></div><div class="line">for submission in paid_submissions:</div><div class="line">    project = submission[&apos;lesson_key&apos;]</div><div class="line">    rating = submission[&apos;assigned_rating&apos;]    </div><div class="line"></div><div class="line">    if ((project in subway_project_lesson_keys) and</div><div class="line">            (rating == &apos;PASSED&apos; or rating == &apos;DISTINCTION&apos;)):</div><div class="line">        pass_subway_project.add(submission[&apos;account_key&apos;])</div><div class="line"></div><div class="line">len(pass_subway_project)</div><div class="line"></div><div class="line">passing_engagement = []</div><div class="line">non_passing_engagement = []</div><div class="line"></div><div class="line">for engagement_record in paid_engagement_in_first_week:</div><div class="line">    if engagement_record[&apos;account_key&apos;] in pass_subway_project:</div><div class="line">        passing_engagement.append(engagement_record)</div><div class="line">    else:</div><div class="line">        non_passing_engagement.append(engagement_record)</div><div class="line"></div><div class="line">print len(passing_engagement)</div><div class="line">print len(non_passing_engagement)</div></pre></td></tr></table></figure></p>
<h3 id="Comparing-the-Two-Student-Groups"><a href="#Comparing-the-Two-Student-Groups" class="headerlink" title="Comparing the Two Student Groups"></a>Comparing the Two Student Groups</h3><p>Here is the code Caroline shows in the solution video:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">passing_engagement_by_account = group_data(passing_engagement,</div><div class="line">                                           &apos;account_key&apos;)</div><div class="line">non_passing_engagement_by_account = group_data(non_passing_engagement,</div><div class="line">                                               &apos;account_key&apos;)</div><div class="line"></div><div class="line">print &apos;non-passing students:&apos;</div><div class="line">non_passing_minutes = sum_grouped_items(</div><div class="line">    non_passing_engagement_by_account,</div><div class="line">    &apos;total_minutes_visited&apos;</div><div class="line">)</div><div class="line">describe_data(non_passing_minutes.values())</div><div class="line">​</div><div class="line">print &apos;passing students:&apos;</div><div class="line">passing_minutes = sum_grouped_items(</div><div class="line">    passing_engagement_by_account,</div><div class="line">    &apos;total_minutes_visited&apos;</div><div class="line">)</div><div class="line">describe_data(passing_minutes.values())</div><div class="line"></div><div class="line">print &apos;non-passing students:&apos;</div><div class="line">non_passing_lessons = sum_grouped_items(</div><div class="line">    non_passing_engagement_by_account,</div><div class="line">    &apos;lessons_completed&apos;</div><div class="line">)</div><div class="line">describe_data(non_passing_lessons.values())</div><div class="line"></div><div class="line">print &apos;passing students:&apos;</div><div class="line">passing_lessons = sum_grouped_items(</div><div class="line">    passing_engagement_by_account,</div><div class="line">    &apos;lessons_completed&apos;</div><div class="line">)</div><div class="line">describe_data(passing_lessons.values())</div><div class="line"></div><div class="line">print &apos;non-passing students:&apos;</div><div class="line">non_passing_visits = sum_grouped_items(</div><div class="line">    non_passing_engagement_by_account, </div><div class="line">    &apos;has_visited&apos;</div><div class="line">)</div><div class="line">describe_data(non_passing_visits.values())</div><div class="line"></div><div class="line">print &apos;passing students:&apos;</div><div class="line">passing_visits = sum_grouped_items(</div><div class="line">    passing_engagement_by_account,</div><div class="line">    &apos;has_visited&apos;</div><div class="line">)</div><div class="line">describe_data(passing_visits.values())</div></pre></td></tr></table></figure></p>
<h3 id="Making-Histograms"><a href="#Making-Histograms" class="headerlink" title="Making Histograms"></a>Making Histograms</h3><p>Here is the code Caroline shows in the solution video:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">%pylab inline</div><div class="line"></div><div class="line">import matplotlib.pyplot as plt</div><div class="line">import numpy as np</div><div class="line"></div><div class="line"># Summarize the given data</div><div class="line">def describe_data(data):</div><div class="line">    print &apos;Mean:&apos;, np.mean(data)</div><div class="line">    print &apos;Standard deviation:&apos;, np.std(data)</div><div class="line">    print &apos;Minimum:&apos;, np.min(data)</div><div class="line">    print &apos;Maximum:&apos;, np.max(data)</div><div class="line">    plt.hist(data)</div></pre></td></tr></table></figure></p>
<h4 id="Fixing-the-Number-of-Bins"><a href="#Fixing-the-Number-of-Bins" class="headerlink" title="Fixing the Number of Bins"></a>Fixing the Number of Bins</h4><p>To change how many bins are shown for each plot, try using the <code>bins</code> argument to the <code>hist</code> function. You can find documentation for the <code>hist</code> function and the arguments it takes <a href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.hist" target="_blank" rel="external">here</a>.</p>
<h3 id="Improving-Plots-and-Sharing-Findings"><a href="#Improving-Plots-and-Sharing-Findings" class="headerlink" title="Improving Plots and Sharing Findings"></a>Improving Plots and Sharing Findings</h3><p>Here is the code Caroline shows in the solution video:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">import seaborn as sns</div><div class="line"></div><div class="line">plt.hist(non_passing_visits.values(), bins=8)</div><div class="line">plt.xlabel(&apos;Number of days&apos;)</div><div class="line">plt.title(&apos;Distribution of classroom visits in the first week &apos; + </div><div class="line">          &apos;for students who do not pass the subway project&apos;)</div><div class="line"></div><div class="line">plt.hist(passing_visits.values(), bins=8)</div><div class="line">plt.xlabel(&apos;Number of days&apos;)</div><div class="line">plt.title(&apos;Distribution of classroom visits in the first week &apos; + </div><div class="line">          &apos;for students who pass the subway project&apos;)</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-Survey-Says"><a href="#Quiz-Survey-Says" class="headerlink" title="Quiz: Survey Says!"></a>Quiz: Survey Says!</h2><h1 id="Numpy-and-Pandas-for-1D-Data"><a href="#Numpy-and-Pandas-for-1D-Data" class="headerlink" title="Numpy and Pandas for 1D Data"></a>Numpy and Pandas for 1D Data</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><h2 id="Quiz-Gapminder-Data"><a href="#Quiz-Gapminder-Data" class="headerlink" title="Quiz: Gapminder Data"></a>Quiz: Gapminder Data</h2><p>Gapminder data<br>The data in this lesson was obtained from the site <a href="http://www.gapminder.org/data/" target="_blank" rel="external">gapminder.org</a>. The variables included are:</p>
<p>Aged 15+ Employment Rate (%)<br>Life Expectancy (years)<br>GDP/capita (US$, inflation adjusted)<br>Primary school completion (% of boys)<br>Primary school completion (% of girls)<br>You can also obtain the data to anlayze on your own from the Downloadables section.</p>
<h2 id="One-Dimensional-Data-in-NumPy-and-Pandas"><a href="#One-Dimensional-Data-in-NumPy-and-Pandas" class="headerlink" title="One-Dimensional Data in NumPy and Pandas"></a>One-Dimensional Data in NumPy and Pandas</h2><h2 id="Quiz-NumPy-Arrays"><a href="#Quiz-NumPy-Arrays" class="headerlink" title="Quiz: NumPy Arrays"></a>Quiz: NumPy Arrays</h2><table>
<thead>
<tr>
<th>Pandas</th>
<th>Numpy</th>
</tr>
</thead>
<tbody>
<tr>
<td>Series</td>
<td>Array</td>
</tr>
</tbody>
</table>
<p>similarity and difference between numpy array and python list</p>
<table>
<thead>
<tr>
<th>similarity</th>
<th>difference</th>
</tr>
</thead>
<tbody>
<tr>
<td>for loop</td>
<td>numpy array have the same type </td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line"></div><div class="line"># First 20 countries with employment data</div><div class="line">countries = np.array([</div><div class="line">    &apos;Afghanistan&apos;, &apos;Albania&apos;, &apos;Algeria&apos;, &apos;Angola&apos;, &apos;Argentina&apos;,</div><div class="line">    &apos;Armenia&apos;, &apos;Australia&apos;, &apos;Austria&apos;, &apos;Azerbaijan&apos;, &apos;Bahamas&apos;,</div><div class="line">    &apos;Bahrain&apos;, &apos;Bangladesh&apos;, &apos;Barbados&apos;, &apos;Belarus&apos;, &apos;Belgium&apos;,</div><div class="line">    &apos;Belize&apos;, &apos;Benin&apos;, &apos;Bhutan&apos;, &apos;Bolivia&apos;,</div><div class="line">    &apos;Bosnia and Herzegovina&apos;</div><div class="line">])</div><div class="line"></div><div class="line"># Employment data in 2007 for those 20 countries</div><div class="line">employment = np.array([</div><div class="line">    55.70000076,  51.40000153,  50.5       ,  75.69999695,</div><div class="line">    58.40000153,  40.09999847,  61.5       ,  57.09999847,</div><div class="line">    60.90000153,  66.59999847,  60.40000153,  68.09999847,</div><div class="line">    66.90000153,  53.40000153,  48.59999847,  56.79999924,</div><div class="line">    71.59999847,  58.40000153,  70.40000153,  41.20000076</div><div class="line">])</div><div class="line"></div><div class="line"># Change False to True for each block of code to see what it does</div><div class="line"></div><div class="line"># Accessing elements</div><div class="line">if False:</div><div class="line">    print countries[0]</div><div class="line">    print countries[3]</div><div class="line"></div><div class="line"># Slicing</div><div class="line">if False:</div><div class="line">    print countries[0:3]</div><div class="line">    print countries[:3]</div><div class="line">    print countries[17:]</div><div class="line">    print countries[:]</div><div class="line"></div><div class="line"># Element types</div><div class="line">if False:</div><div class="line">    print countries.dtype</div><div class="line">    print employment.dtype</div><div class="line">    print np.array([0, 1, 2, 3]).dtype</div><div class="line">    print np.array([1.0, 1.5, 2.0, 2.5]).dtype</div><div class="line">    print np.array([True, False, True]).dtype</div><div class="line">    print np.array([&apos;AL&apos;, &apos;AK&apos;, &apos;AZ&apos;, &apos;AR&apos;, &apos;CA&apos;]).dtype</div><div class="line"></div><div class="line"># Looping</div><div class="line">if False:</div><div class="line">    for country in countries:</div><div class="line">        print &apos;Examining country &#123;&#125;&apos;.format(country)</div><div class="line"></div><div class="line">    for i in range(len(countries)):</div><div class="line">        country = countries[i]</div><div class="line">        country_employment = employment[i]</div><div class="line">        print &apos;Country &#123;&#125; has employment &#123;&#125;&apos;.format(country,</div><div class="line">                country_employment)</div><div class="line"></div><div class="line"># Numpy functions</div><div class="line">if False:</div><div class="line">    print employment.mean()</div><div class="line">    print employment.std()</div><div class="line">    print employment.max()</div><div class="line">    print employment.sum()</div><div class="line"></div><div class="line">def max_employment(countries, employment):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to return the name of the country</div><div class="line">    with the highest employment in the given employment</div><div class="line">    data, and the employment in that country.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    max_country = None      # Replace this with your code</div><div class="line">    max_value = None   # Replace this with your code</div><div class="line"></div><div class="line">    return (max_country, max_value)</div></pre></td></tr></table></figure>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">def max_employment(countries, employment):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to return the name of the country</div><div class="line">    with the highest employment in the given employment</div><div class="line">    data, and the employment in that country.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    max_country = countries[employment.argmax()]      # Replace this with your code</div><div class="line">    max_value = employment.max()   # Replace this with your code</div><div class="line"></div><div class="line">    return (max_country, max_value)</div></pre></td></tr></table></figure></p>
<p><code>argmax()</code> return the position of <code>max()</code></p>
<h2 id="Quiz-Vectorized-Operations"><a href="#Quiz-Vectorized-Operations" class="headerlink" title="Quiz: Vectorized Operations"></a>Quiz: Vectorized Operations</h2><p><code>+</code> operation:<br>python | numpy<br>—|—<br>list concatenation | vector addition</p>
<h2 id="Quiz-Multiplying-by-a-Scalar"><a href="#Quiz-Multiplying-by-a-Scalar" class="headerlink" title="Quiz: Multiplying by a Scalar"></a>Quiz: Multiplying by a Scalar</h2><h2 id="Quiz-Calculate-Overall-Completion-Rate"><a href="#Quiz-Calculate-Overall-Completion-Rate" class="headerlink" title="Quiz: Calculate Overall Completion Rate"></a>Quiz: Calculate Overall Completion Rate</h2><p>Bitwise Operations<br>See <a href="https://en.wikipedia.org/wiki/Bitwise_operation" target="_blank" rel="external">this article</a> for more information about bitwise operations.</p>
<p>In NumPy, <code>a &amp; b</code> performs a <strong>bitwise and</strong> of <code>a</code> and <code>b</code>. This is not necessarily the same as a <strong>logical and</strong>, if you wanted to see if matching terms in two integer vectors were non-zero. However, if <code>a</code> and <code>b</code> are both arrays of booleans, rather than integers, <strong>bitwise and</strong> and <strong>logical and</strong> are the same thing. If you want to perform a <strong>logical and</strong> on integer vectors, then you can use the NumPy function <code>np.logical_and(a, b)</code> or convert them into boolean vectors first.</p>
<p>Similarly, <code>a | b</code> performs a <strong>bitwise or</strong>, and <code>~a</code> performs a <strong>bitwise not</strong>. However, if your arrays contain booleans, these will be the same as performing <strong>logical or</strong> and <strong>logical not</strong>. NumPy also has <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.logical_or.html" target="_blank" rel="external">similar</a> <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.logical_not.html" target="_blank" rel="external">functions</a> for performing these logical operations on integer-valued arrays.</p>
<p>For the quiz, assume that the number of males and females are equal i.e. we can take a simple average to get an overall completion rate.</p>
<p>In the solution, we may want to <code>/ 2.</code> instead of just <code>/ 2</code>. This is because in Python 2, dividing an integer by another integer (2) drops fractions, so if our inputs are also integers, we may end up losing information. If we divide by a float (<code>2.</code>) then we will definitely retain decimal values.</p>
<p>Erratum: The output of cell [3] in the solution video is incorrect: it appears that the <code>male</code> variable has not been set to the proper value set in cell [2]. All values except for the first will be different. The correct output in cell <code>Out[3]:</code> should instead start with:</p>
<p><code>array([ 192.83205,  205.28855,  202.82258,  186.63257,  206.91115,</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line"></div><div class="line"># Change False to True for each block of code to see what it does</div><div class="line"></div><div class="line"># Arithmetic operations between 2 NumPy arrays</div><div class="line">if False:</div><div class="line">    a = np.array([1, 2, 3, 4])</div><div class="line">    b = np.array([1, 2, 1, 2])</div><div class="line">    </div><div class="line">    print a + b</div><div class="line">    print a - b</div><div class="line">    print a * b</div><div class="line">    print a / b</div><div class="line">    print a ** b</div><div class="line">    </div><div class="line"># Arithmetic operations between a NumPy array and a single number</div><div class="line">if False:</div><div class="line">    a = np.array([1, 2, 3, 4])</div><div class="line">    b = 2</div><div class="line">    </div><div class="line">    print a + b</div><div class="line">    print a - b</div><div class="line">    print a * b</div><div class="line">    print a / b</div><div class="line">    print a ** b</div><div class="line">    </div><div class="line"># Logical operations with NumPy arrays</div><div class="line">if False:</div><div class="line">    a = np.array([True, True, False, False])</div><div class="line">    b = np.array([True, False, True, False])</div><div class="line">    </div><div class="line">    print a &amp; b</div><div class="line">    print a | b</div><div class="line">    print ~a</div><div class="line">    </div><div class="line">    print a &amp; True</div><div class="line">    print a &amp; False</div><div class="line">    </div><div class="line">    print a | True</div><div class="line">    print a | False</div><div class="line">    </div><div class="line"># Comparison operations between 2 NumPy Arrays</div><div class="line">if False:</div><div class="line">    a = np.array([1, 2, 3, 4, 5])</div><div class="line">    b = np.array([5, 4, 3, 2, 1])</div><div class="line">    </div><div class="line">    print a &gt; b</div><div class="line">    print a &gt;= b</div><div class="line">    print a &lt; b</div><div class="line">    print a &lt;= b</div><div class="line">    print a == b</div><div class="line">    print a != b</div><div class="line">    </div><div class="line"># Comparison operations between a NumPy array and a single number</div><div class="line">if False:</div><div class="line">    a = np.array([1, 2, 3, 4])</div><div class="line">    b = 2</div><div class="line">    </div><div class="line">    print a &gt; b</div><div class="line">    print a &gt;= b</div><div class="line">    print a &lt; b</div><div class="line">    print a &lt;= b</div><div class="line">    print a == b</div><div class="line">    print a != b</div><div class="line">    </div><div class="line"># First 20 countries with school completion data</div><div class="line">countries = np.array([</div><div class="line">       &apos;Algeria&apos;, &apos;Argentina&apos;, &apos;Armenia&apos;, &apos;Aruba&apos;, &apos;Austria&apos;,&apos;Azerbaijan&apos;,</div><div class="line">       &apos;Bahamas&apos;, &apos;Barbados&apos;, &apos;Belarus&apos;, &apos;Belgium&apos;, &apos;Belize&apos;, &apos;Bolivia&apos;,</div><div class="line">       &apos;Botswana&apos;, &apos;Brunei&apos;, &apos;Bulgaria&apos;, &apos;Burkina Faso&apos;, &apos;Burundi&apos;,</div><div class="line">       &apos;Cambodia&apos;, &apos;Cameroon&apos;, &apos;Cape Verde&apos;</div><div class="line">])</div><div class="line"></div><div class="line"># Female school completion rate in 2007 for those 20 countries</div><div class="line">female_completion = np.array([</div><div class="line">    97.35583,  104.62379,  103.02998,   95.14321,  103.69019,</div><div class="line">    98.49185,  100.88828,   95.43974,   92.11484,   91.54804,</div><div class="line">    95.98029,   98.22902,   96.12179,  119.28105,   97.84627,</div><div class="line">    29.07386,   38.41644,   90.70509,   51.7478 ,   95.45072</div><div class="line">])</div><div class="line"></div><div class="line"># Male school completion rate in 2007 for those 20 countries</div><div class="line">male_completion = np.array([</div><div class="line">     95.47622,  100.66476,   99.7926 ,   91.48936,  103.22096,</div><div class="line">     97.80458,  103.81398,   88.11736,   93.55611,   87.76347,</div><div class="line">    102.45714,   98.73953,   92.22388,  115.3892 ,   98.70502,</div><div class="line">     37.00692,   45.39401,   91.22084,   62.42028,   90.66958</div><div class="line">])</div><div class="line"></div><div class="line">def overall_completion_rate(female_completion, male_completion):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to return a NumPy array containing the overall</div><div class="line">    school completion rate for each country. The arguments are NumPy</div><div class="line">    arrays giving the female and male completion of each country in</div><div class="line">    the same order.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return None</div></pre></td></tr></table></figure>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">def overall_completion_rate(female_completion, male_completion):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to return a NumPy array containing the overall</div><div class="line">    school completion rate for each country. The arguments are NumPy</div><div class="line">    arrays giving the female and male completion of each country in</div><div class="line">    the same order.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return (female_completion + male_completion ) /2.</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-Standardizing-Data"><a href="#Quiz-Standardizing-Data" class="headerlink" title="Quiz: Standardizing Data"></a>Quiz: Standardizing Data</h2><p>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line"></div><div class="line"># First 20 countries with employment data</div><div class="line">countries = np.array([</div><div class="line">    &apos;Afghanistan&apos;, &apos;Albania&apos;, &apos;Algeria&apos;, &apos;Angola&apos;, &apos;Argentina&apos;,</div><div class="line">    &apos;Armenia&apos;, &apos;Australia&apos;, &apos;Austria&apos;, &apos;Azerbaijan&apos;, &apos;Bahamas&apos;,</div><div class="line">    &apos;Bahrain&apos;, &apos;Bangladesh&apos;, &apos;Barbados&apos;, &apos;Belarus&apos;, &apos;Belgium&apos;,</div><div class="line">    &apos;Belize&apos;, &apos;Benin&apos;, &apos;Bhutan&apos;, &apos;Bolivia&apos;,</div><div class="line">    &apos;Bosnia and Herzegovina&apos;</div><div class="line">])</div><div class="line"></div><div class="line"># Employment data in 2007 for those 20 countries</div><div class="line">employment = np.array([</div><div class="line">    55.70000076,  51.40000153,  50.5       ,  75.69999695,</div><div class="line">    58.40000153,  40.09999847,  61.5       ,  57.09999847,</div><div class="line">    60.90000153,  66.59999847,  60.40000153,  68.09999847,</div><div class="line">    66.90000153,  53.40000153,  48.59999847,  56.79999924,</div><div class="line">    71.59999847,  58.40000153,  70.40000153,  41.20000076</div><div class="line">])</div><div class="line"></div><div class="line"># Change this country name to change what country will be printed when you</div><div class="line"># click &quot;Test Run&quot;. Your function will be called to determine the standardized</div><div class="line"># score for this country for each of the given 5 Gapminder variables in 2007.</div><div class="line"># The possible country names are available in the Downloadables section.</div><div class="line"></div><div class="line">country_name = &apos;United States&apos;</div><div class="line"></div><div class="line">def standardize_data(values):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to return a standardized version of the given values,</div><div class="line">    which will be in a NumPy array. Each value should be translated into the</div><div class="line">    number of standard deviations that value is away from the mean of the data.</div><div class="line">    (A positive number indicates a value higher than the mean, and a negative</div><div class="line">    number indicates a value lower than the mean.)</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return None</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">def standardize_data(values):</div><div class="line">    return (values - values.mean()) / values.std()</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-NumPy-Index-Arrays"><a href="#Quiz-NumPy-Index-Arrays" class="headerlink" title="Quiz: NumPy Index Arrays"></a>Quiz: NumPy Index Arrays</h2><p>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line"></div><div class="line"># Change False to True for each block of code to see what it does</div><div class="line"></div><div class="line"># Using index arrays</div><div class="line">if False:</div><div class="line">    a = np.array([1, 2, 3, 4])</div><div class="line">    b = np.array([True, True, False, False])</div><div class="line">    </div><div class="line">    print a[b]</div><div class="line">    print a[np.array([True, False, True, False])]</div><div class="line">    </div><div class="line"># Creating the index array using vectorized operations</div><div class="line">if False:</div><div class="line">    a = np.array([1, 2, 3, 2, 1])</div><div class="line">    b = (a &gt;= 2)</div><div class="line">    </div><div class="line">    print a[b]</div><div class="line">    print a[a &gt;= 2]</div><div class="line">    </div><div class="line"># Creating the index array using vectorized operations on another array</div><div class="line">if False:</div><div class="line">    a = np.array([1, 2, 3, 4, 5])</div><div class="line">    b = np.array([1, 2, 3, 2, 1])</div><div class="line">    </div><div class="line">    print b == 2</div><div class="line">    print a[b == 2]</div><div class="line"></div><div class="line">def mean_time_for_paid_students(time_spent, days_to_cancel):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to calculate the mean time spent in the classroom</div><div class="line">    for students who stayed enrolled at least (greater than or equal to) 7 days.</div><div class="line">    Unlike in Lesson 1, you can assume that days_to_cancel will contain only</div><div class="line">    integers (there are no students who have not canceled yet).</div><div class="line">    </div><div class="line">    The arguments are NumPy arrays. time_spent contains the amount of time spent</div><div class="line">    in the classroom for each student, and days_to_cancel contains the number</div><div class="line">    of days until each student cancel. The data is given in the same order</div><div class="line">    in both arrays.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return None</div><div class="line"></div><div class="line"># Time spent in the classroom in the first week for 20 students</div><div class="line">time_spent = np.array([</div><div class="line">       12.89697233,    0.        ,   64.55043217,    0.        ,</div><div class="line">       24.2315615 ,   39.991625  ,    0.        ,    0.        ,</div><div class="line">      147.20683783,    0.        ,    0.        ,    0.        ,</div><div class="line">       45.18261617,  157.60454283,  133.2434615 ,   52.85000767,</div><div class="line">        0.        ,   54.9204785 ,   26.78142417,    0.</div><div class="line">])</div><div class="line"></div><div class="line"># Days to cancel for 20 students</div><div class="line">days_to_cancel = np.array([</div><div class="line">      4,   5,  37,   3,  12,   4,  35,  38,   5,  37,   3,   3,  68,</div><div class="line">     38,  98,   2, 249,   2, 127,  35</div><div class="line">])</div></pre></td></tr></table></figure></p>
<p>sloution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">def mean_time_for_paid_students(time_spent, days_to_cancel):</div><div class="line">    return time_spent[days_to_cancel &gt;=7].mean()</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-vs"><a href="#Quiz-vs" class="headerlink" title="Quiz: + vs. +="></a>Quiz: + vs. +=</h2><h2 id="Quiz-In-Place-vs-Not-In-Place"><a href="#Quiz-In-Place-vs-Not-In-Place" class="headerlink" title="Quiz: In-Place vs. Not In-Place"></a>Quiz: In-Place vs. Not In-Place</h2><h2 id="Quiz-Pandas-Series"><a href="#Quiz-Pandas-Series" class="headerlink" title="Quiz: Pandas Series"></a>Quiz: Pandas Series</h2><h2 id="Quiz-Series-Indexes"><a href="#Quiz-Series-Indexes" class="headerlink" title="Quiz: Series Indexes"></a>Quiz: Series Indexes</h2><h2 id="Quiz-Vectorized-Operations-and-Series-Indexes"><a href="#Quiz-Vectorized-Operations-and-Series-Indexes" class="headerlink" title="Quiz: Vectorized Operations and Series Indexes"></a>Quiz: Vectorized Operations and Series Indexes</h2><h2 id="Quiz-Filling-Missing-Values"><a href="#Quiz-Filling-Missing-Values" class="headerlink" title="Quiz: Filling Missing Values"></a>Quiz: Filling Missing Values</h2><h2 id="Quiz-Pandas-Series-apply"><a href="#Quiz-Pandas-Series-apply" class="headerlink" title="Quiz: Pandas Series apply()"></a>Quiz: Pandas Series apply()</h2><h2 id="Quiz-Plotting-in-Pandas"><a href="#Quiz-Plotting-in-Pandas" class="headerlink" title="Quiz: Plotting in Pandas"></a>Quiz: Plotting in Pandas</h2><h2 id="Conclusion-1"><a href="#Conclusion-1" class="headerlink" title="Conclusion"></a>Conclusion</h2><h1 id="Numpy-and-Pandas-for-2D-Data"><a href="#Numpy-and-Pandas-for-2D-Data" class="headerlink" title="Numpy and Pandas for 2D Data"></a>Numpy and Pandas for 2D Data</h1><h1 id="Final-Project-Investigate-a-Dataset"><a href="#Final-Project-Investigate-a-Dataset" class="headerlink" title="Final Project: Investigate a Dataset"></a>Final Project: Investigate a Dataset</h1><p>##</p>
<p>##</p>
<p>##</p>
<p>##</p>
<p>##</p>
<p>##</p>
<p>##</p>
<p>##</p>
<p>##</p>
<p>##</p>
<p>##</p>
<p>##</p>
<p>##</p>
<p>##</p>
<p>##</p>
<p>##</p>
<p>##</p>
<p>##</p>
<p>##</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>打赏随意，感谢支持</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/images/wechatpay.jpg" alt="SSQ WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="/images/alipay.jpg" alt="SSQ Alipay"/>
          <p>支付宝打赏</p>
        </div>
      
    </div>
  </div>


      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Udacity/" rel="tag"># Udacity</a>
          
            <a href="/tags/Data-Analysis/" rel="tag"># Data Analysis</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/06/20/Udacity-ud1111-Anaconda-and-Jupyter-Notebooks-notebook/" rel="next" title="Udacity ud1111 Anaconda and Jupyter Notebooks notebook">
                <i class="fa fa-chevron-left"></i> Udacity ud1111 Anaconda and Jupyter Notebooks notebook
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/06/22/Udacity-ud651-DA-with-R-Notebook/" rel="prev" title="Udacity ud651 DA with R Notebook">
                Udacity ud651 DA with R Notebook <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  
    <div class="sidebar-toggle">
      <div class="sidebar-toggle-line-wrap">
        <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
        <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
        <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
      </div>
    </div>
  

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          
            
          
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="SSQ" />
          <p class="site-author-name" itemprop="name">SSQ</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">20</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/SSQ" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Data-Analysis-Process"><span class="nav-number">1.</span> <span class="nav-text">Data Analysis Process</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Setting-Up-Your-System"><span class="nav-number">1.1.</span> <span class="nav-text">Setting Up Your System</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Intro-to-CSVs"><span class="nav-number">1.2.</span> <span class="nav-text">Intro to CSVs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CSVs-in-Python"><span class="nav-number">1.3.</span> <span class="nav-text">CSVs in Python</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Python’s-csv-Module"><span class="nav-number">1.3.1.</span> <span class="nav-text">Python’s csv Module</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Iterators-in-Python"><span class="nav-number">1.3.2.</span> <span class="nav-text">Iterators in Python</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solutions"><span class="nav-number">1.3.3.</span> <span class="nav-text">Solutions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Fixing-Data-Types"><span class="nav-number">1.4.</span> <span class="nav-text">Fixing Data Types</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Questions-about-Student-Data"><span class="nav-number">1.5.</span> <span class="nav-text">Questions about Student Data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Investigating-the-Data"><span class="nav-number">1.6.</span> <span class="nav-text">Investigating the Data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Problems-in-the-Data"><span class="nav-number">1.7.</span> <span class="nav-text">Problems in the Data</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Removing-an-Element-from-a-Dictionary"><span class="nav-number">1.7.1.</span> <span class="nav-text">Removing an Element from a Dictionary</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solutions-1"><span class="nav-number">1.7.2.</span> <span class="nav-text">Solutions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Updated-Code-for-Previous-Exercise"><span class="nav-number">1.7.3.</span> <span class="nav-text">Updated Code for Previous Exercise</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Missing-Engagement-Records"><span class="nav-number">1.8.</span> <span class="nav-text">Missing Engagement Records</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Checking-for-More-Problem-Records"><span class="nav-number">1.9.</span> <span class="nav-text">Checking for More Problem Records</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tracking-Down-the-Remaining-Problems"><span class="nav-number">1.10.</span> <span class="nav-text">Tracking Down the Remaining Problems</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Refining-the-Question"><span class="nav-number">1.11.</span> <span class="nav-text">Refining the Question</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Exploratory-Data-Analysis"><span class="nav-number">1.11.1.</span> <span class="nav-text">Exploratory Data Analysis</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solutions-2"><span class="nav-number">1.11.2.</span> <span class="nav-text">Solutions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Getting-Data-from-First-Week"><span class="nav-number">1.12.</span> <span class="nav-text">Getting Data from First Week</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Indulge-Curiosity"><span class="nav-number">1.13.</span> <span class="nav-text">Indulge Curiosity</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Exploring-Student-Engagement"><span class="nav-number">1.14.</span> <span class="nav-text">Exploring Student Engagement</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Debugging-Data-Analysis-Code"><span class="nav-number">1.15.</span> <span class="nav-text">Debugging Data Analysis Code</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lessons-Completed-in-First-Week"><span class="nav-number">1.16.</span> <span class="nav-text">Lessons Completed in First Week</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Number-of-Visits-in-the-First-Week"><span class="nav-number">1.17.</span> <span class="nav-text">Number of Visits in the First Week</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Splitting-out-Passing-Students"><span class="nav-number">1.18.</span> <span class="nav-text">Splitting out Passing Students</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Comparing-the-Two-Student-Groups"><span class="nav-number">1.19.</span> <span class="nav-text">Quiz: Comparing the Two Student Groups</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Making-Histograms"><span class="nav-number">1.20.</span> <span class="nav-text">Quiz: Making Histograms</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Visualizing-data"><span class="nav-number">1.20.1.</span> <span class="nav-text">Visualizing data</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Making-histograms-in-Python"><span class="nav-number">1.20.2.</span> <span class="nav-text">Making histograms in Python</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Making-histograms-of-student-data"><span class="nav-number">1.20.3.</span> <span class="nav-text">Making histograms of student data</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Are-your-Results-Just-Noise"><span class="nav-number">1.21.</span> <span class="nav-text">Are your Results Just Noise?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Statistics"><span class="nav-number">1.21.1.</span> <span class="nav-text">Statistics</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Correlation-Does-Not-Imply-Causation"><span class="nav-number">1.22.</span> <span class="nav-text">Correlation Does Not Imply Causation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Cheese-and-Bedsheet-Tangling"><span class="nav-number">1.22.1.</span> <span class="nav-text">Cheese and Bedsheet Tangling</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#A-B-Testing"><span class="nav-number">1.22.2.</span> <span class="nav-text">A/B Testing</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Predicting-Based-on-Many-Features"><span class="nav-number">1.23.</span> <span class="nav-text">Predicting Based on Many Features</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Machine-Learning"><span class="nav-number">1.23.1.</span> <span class="nav-text">Machine Learning</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Communication"><span class="nav-number">1.24.</span> <span class="nav-text">Communication</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Improving-Plots-and-Sharing-Findings"><span class="nav-number">1.25.</span> <span class="nav-text">Quiz: Improving Plots and Sharing Findings</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Adding-labels-and-titles"><span class="nav-number">1.25.1.</span> <span class="nav-text">Adding labels and titles</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Making-plots-look-nicer-with-seaborn"><span class="nav-number">1.25.2.</span> <span class="nav-text">Making plots look nicer with seaborn</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Adding-extra-arguments-to-your-plot"><span class="nav-number">1.25.3.</span> <span class="nav-text">Adding extra arguments to your plot</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Improving-one-of-your-plots"><span class="nav-number">1.25.4.</span> <span class="nav-text">Improving one of your plots</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sharing-your-findings"><span class="nav-number">1.25.5.</span> <span class="nav-text">Sharing your findings</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Data-Analysis-and-Related-Terms"><span class="nav-number">1.26.</span> <span class="nav-text">Data Analysis and Related Terms</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Conclusion"><span class="nav-number">1.27.</span> <span class="nav-text">Conclusion</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Solutions"><span class="nav-number">1.28.</span> <span class="nav-text">Quiz Solutions</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#CSVs-in-Python-1"><span class="nav-number">1.28.1.</span> <span class="nav-text">CSVs in Python</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Investigating-the-Data-1"><span class="nav-number">1.28.2.</span> <span class="nav-text">Investigating the Data</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Problems-in-the-Data-1"><span class="nav-number">1.28.3.</span> <span class="nav-text">Problems in the Data</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Missing-engagement-records"><span class="nav-number">1.28.4.</span> <span class="nav-text">Missing engagement records</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Checking-for-more-problem-records"><span class="nav-number">1.28.5.</span> <span class="nav-text">Checking for more problem records</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Refining-the-Question-1"><span class="nav-number">1.28.6.</span> <span class="nav-text">Refining the Question</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Getting-Data-from-First-Week-1"><span class="nav-number">1.28.7.</span> <span class="nav-text">Getting Data from First Week</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Debugging-Data-Analysis-Code-1"><span class="nav-number">1.28.8.</span> <span class="nav-text">Debugging Data Analysis Code</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Fixing-Bug-in-within-one-week"><span class="nav-number">1.28.9.</span> <span class="nav-text">Fixing Bug in within_one_week()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Lessons-Completed-in-First-Week-1"><span class="nav-number">1.28.10.</span> <span class="nav-text">Lessons Completed in First Week</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Number-of-Visits-in-the-First-Week-1"><span class="nav-number">1.28.11.</span> <span class="nav-text">Number of Visits in the First Week</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Splitting-out-Passing-Students-1"><span class="nav-number">1.28.12.</span> <span class="nav-text">Splitting out Passing Students</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Comparing-the-Two-Student-Groups"><span class="nav-number">1.28.13.</span> <span class="nav-text">Comparing the Two Student Groups</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Making-Histograms"><span class="nav-number">1.28.14.</span> <span class="nav-text">Making Histograms</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Fixing-the-Number-of-Bins"><span class="nav-number">1.28.14.1.</span> <span class="nav-text">Fixing the Number of Bins</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Improving-Plots-and-Sharing-Findings"><span class="nav-number">1.28.15.</span> <span class="nav-text">Improving Plots and Sharing Findings</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Survey-Says"><span class="nav-number">1.29.</span> <span class="nav-text">Quiz: Survey Says!</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Numpy-and-Pandas-for-1D-Data"><span class="nav-number">2.</span> <span class="nav-text">Numpy and Pandas for 1D Data</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction"><span class="nav-number">2.1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Gapminder-Data"><span class="nav-number">2.2.</span> <span class="nav-text">Quiz: Gapminder Data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#One-Dimensional-Data-in-NumPy-and-Pandas"><span class="nav-number">2.3.</span> <span class="nav-text">One-Dimensional Data in NumPy and Pandas</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-NumPy-Arrays"><span class="nav-number">2.4.</span> <span class="nav-text">Quiz: NumPy Arrays</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Vectorized-Operations"><span class="nav-number">2.5.</span> <span class="nav-text">Quiz: Vectorized Operations</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Multiplying-by-a-Scalar"><span class="nav-number">2.6.</span> <span class="nav-text">Quiz: Multiplying by a Scalar</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Calculate-Overall-Completion-Rate"><span class="nav-number">2.7.</span> <span class="nav-text">Quiz: Calculate Overall Completion Rate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Standardizing-Data"><span class="nav-number">2.8.</span> <span class="nav-text">Quiz: Standardizing Data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-NumPy-Index-Arrays"><span class="nav-number">2.9.</span> <span class="nav-text">Quiz: NumPy Index Arrays</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-vs"><span class="nav-number">2.10.</span> <span class="nav-text">Quiz: + vs. +=</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-In-Place-vs-Not-In-Place"><span class="nav-number">2.11.</span> <span class="nav-text">Quiz: In-Place vs. Not In-Place</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Pandas-Series"><span class="nav-number">2.12.</span> <span class="nav-text">Quiz: Pandas Series</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Series-Indexes"><span class="nav-number">2.13.</span> <span class="nav-text">Quiz: Series Indexes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Vectorized-Operations-and-Series-Indexes"><span class="nav-number">2.14.</span> <span class="nav-text">Quiz: Vectorized Operations and Series Indexes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Filling-Missing-Values"><span class="nav-number">2.15.</span> <span class="nav-text">Quiz: Filling Missing Values</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Pandas-Series-apply"><span class="nav-number">2.16.</span> <span class="nav-text">Quiz: Pandas Series apply()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Plotting-in-Pandas"><span class="nav-number">2.17.</span> <span class="nav-text">Quiz: Plotting in Pandas</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Conclusion-1"><span class="nav-number">2.18.</span> <span class="nav-text">Conclusion</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Numpy-and-Pandas-for-2D-Data"><span class="nav-number">3.</span> <span class="nav-text">Numpy and Pandas for 2D Data</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Final-Project-Investigate-a-Dataset"><span class="nav-number">4.</span> <span class="nav-text">Final Project: Investigate a Dataset</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">SSQ</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (search_path.endsWith("json")) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("MWlUL7cwf0gV4nd1BczDGmFm-gzGzoHsz", "YwuYEA1xBo0rm9hzIjUwOm2F");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
