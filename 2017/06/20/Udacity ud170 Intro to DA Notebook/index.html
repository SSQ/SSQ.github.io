<!doctype html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Python,Udacity,Data Analysis," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="Final ProjectThis course can be found in udacity ud170.">
<meta name="keywords" content="Python,Udacity,Data Analysis">
<meta property="og:type" content="article">
<meta property="og:title" content="Udacity ud170 Intro to DA Notebook">
<meta property="og:url" content="https://ssq.github.io/2017/06/20/Udacity ud170 Intro to DA Notebook/index.html">
<meta property="og:site_name" content="SSQ">
<meta property="og:description" content="Final ProjectThis course can be found in udacity ud170.">
<meta property="og:updated_time" content="2017-07-24T07:25:26.522Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Udacity ud170 Intro to DA Notebook">
<meta name="twitter:description" content="Final ProjectThis course can be found in udacity ud170.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://ssq.github.io/2017/06/20/Udacity ud170 Intro to DA Notebook/"/>





  <title>Udacity ud170 Intro to DA Notebook | SSQ</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-91307065-1', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?3c8ad2ecdd2387b44044b1d7cd3536a9";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">SSQ</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-friends">
          <a href="/friends" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-link"></i> <br />
            
            friends
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://ssq.github.io/2017/06/20/Udacity ud170 Intro to DA Notebook/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SSQ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SSQ">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Udacity ud170 Intro to DA Notebook</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-20T20:40:21+08:00">
                2017-06-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Udacity/" itemprop="url" rel="index">
                    <span itemprop="name">Udacity</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Udacity/Data-Analysis/" itemprop="url" rel="index">
                    <span itemprop="name">Data Analysis</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/06/20/Udacity ud170 Intro to DA Notebook/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/06/20/Udacity ud170 Intro to DA Notebook/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/06/20/Udacity ud170 Intro to DA Notebook/" class="leancloud_visitors" data-flag-title="Udacity ud170 Intro to DA Notebook">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <div class="note primary"><p>Final Project<br>This course can be found in <a href="https://classroom.udacity.com/courses/ud170" target="_blank" rel="external">udacity ud170</a>.</p>
</div>
<a id="more"></a>
<h1 id="Data-Analysis-Process"><a href="#Data-Analysis-Process" class="headerlink" title="Data Analysis Process"></a>Data Analysis Process</h1><h2 id="Setting-Up-Your-System"><a href="#Setting-Up-Your-System" class="headerlink" title="Setting Up Your System"></a>Setting Up Your System</h2><p>Otherwise, you can find the <a href="https://classroom.udacity.com/courses/ud1111" target="_blank" rel="external">free course</a> here. </p>
<h2 id="Intro-to-CSVs"><a href="#Intro-to-CSVs" class="headerlink" title="Intro to CSVs"></a>Intro to CSVs</h2><p>If you’d like to learn more about data wrangling, check out the Udacity course <a href="https://www.udacity.com/course/data-wrangling-with-mongodb--ud032" target="_blank" rel="external">Data Wrangling with MongoDB</a>.</p>
<h2 id="CSVs-in-Python"><a href="#CSVs-in-Python" class="headerlink" title="CSVs in Python"></a>CSVs in Python</h2><p><a href="https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/22sQCo6ovH0.mp4" target="_blank" rel="external">https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/22sQCo6ovH0.mp4</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">import unicodecsv</div><div class="line"></div><div class="line">enrollments_filename = &apos;/datasets/ud170/udacity-students/enrollments.csv&apos;</div><div class="line"></div><div class="line">## Longer version of code (replaced with shorter, equivalent version below)</div><div class="line"></div><div class="line"># enrollments = []</div><div class="line"># f = open(enrollments_filename, &apos;rb&apos;)</div><div class="line"># reader = unicodecsv.DictReader(f)</div><div class="line"># for row in reader:</div><div class="line">#     enrollments.append(row)</div><div class="line"># f.close()</div><div class="line"></div><div class="line">with open(enrollments_filename, &apos;rb&apos;) as f:</div><div class="line">    reader = unicodecsv.DictReader(f)</div><div class="line">    enrollments = list(reader)</div><div class="line">    </div><div class="line">### Write code similar to the above to load the engagement</div><div class="line">### and submission data. The data is stored in files with</div><div class="line">### the given filenames. Then print the first row of each</div><div class="line">### table to make sure that your code works. You can use the</div><div class="line">### &quot;Test Run&quot; button to see the output of your code.</div><div class="line"></div><div class="line">engagement_filename = &apos;/datasets/ud170/udacity-students/daily_engagement.csv&apos;</div><div class="line">submissions_filename = &apos;/datasets/ud170/udacity-students/project_submissions.csv&apos;</div><div class="line">    </div><div class="line">daily_engagement = None     # Replace this with your code</div><div class="line">project_submissions = None  # Replace this with your code</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">with open(engagement_filename, &apos;rb&apos;) as f:</div><div class="line">    reader = unicodecsv.DictReader(f)</div><div class="line">    daily_engagement = list(reader)    </div><div class="line">print daily_engagement[0]</div><div class="line"></div><div class="line">with open(submissions_filename, &apos;rb&apos;) as f:</div><div class="line">    reader = unicodecsv.DictReader(f)</div><div class="line">    project_submissions = list(reader)</div><div class="line">print project_submissions[0]</div></pre></td></tr></table></figure>
<h3 id="Python’s-csv-Module"><a href="#Python’s-csv-Module" class="headerlink" title="Python’s csv Module"></a>Python’s csv Module</h3><p><a href="https://docs.python.org/2/library/csv.html" target="_blank" rel="external">This page</a> contains documentation for Python’s csv module. Instead of csv, you’ll be using unicodecsv in this course. unicodecsv works exactly the same as csv, but it comes with Anaconda and has support for unicode. The csv documentation page is still the best way to learn how to use the unicodecsv library, since the two libraries work exactly the same way.</p>
<h3 id="Iterators-in-Python"><a href="#Iterators-in-Python" class="headerlink" title="Iterators in Python"></a>Iterators in Python</h3><p><a href="https://www.codementor.io/python/tutorial/python-generators-and-iterators" target="_blank" rel="external">This page</a> explains the difference between iterators and lists in Python, and how to use iterators.</p>
<h3 id="Solutions"><a href="#Solutions" class="headerlink" title="Solutions"></a>Solutions</h3><p><a href="https://classroom.udacity.com/nanodegrees/nd002/parts/0021345403/modules/317671873575460/lessons/5430778793/concepts/3cde04b0-873d-41b8-a618-526cd8b5bb35#" target="_blank" rel="external">DAND students click here for solution code</a></p>
<p>IPND students: Look at the end of this lesson for Quiz Solutions</p>
<h2 id="Fixing-Data-Types"><a href="#Fixing-Data-Types" class="headerlink" title="Fixing Data Types"></a>Fixing Data Types</h2><p><a href="https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/7NSYtdVrlRE.mp4" target="_blank" rel="external">https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/7NSYtdVrlRE.mp4</a></p>
<h2 id="Questions-about-Student-Data"><a href="#Questions-about-Student-Data" class="headerlink" title="Questions about Student Data"></a>Questions about Student Data</h2><p><a href="https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/AO8vSyAtfV4.mp4" target="_blank" rel="external">https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/AO8vSyAtfV4.mp4</a></p>
<h2 id="Investigating-the-Data"><a href="#Investigating-the-Data" class="headerlink" title="Investigating the Data"></a>Investigating the Data</h2><p>Now you’ve started the data wrangling process by loading the data and making sure it’s in a good format. The next step is to investigate a bit and see if there are any inconsistencies or problems in the data that you’ll need to clean up.</p>
<p>For each of the three files you’ve loaded, find the total number of rows in the csv and the number of unique students. To find the number of unique students in each table, you might want to try creating a set of the account keys.</p>
<p>Again, in case you’re not finished with your local setup, you can complete this exercise in the Udacity code editor. You’ll need to run the next exercise locally, though, so if you haven’t finished setting up, you should do that now.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">import unicodecsv</div><div class="line"></div><div class="line">def read_csv(filename):</div><div class="line">    with open(filename, &apos;rb&apos;) as f:</div><div class="line">        reader = unicodecsv.DictReader(f)</div><div class="line">        return list(reader)</div><div class="line"></div><div class="line">enrollments = read_csv(&apos;/datasets/ud170/udacity-students/enrollments.csv&apos;)</div><div class="line">daily_engagement = read_csv(&apos;/datasets/ud170/udacity-students/daily_engagement.csv&apos;)</div><div class="line">project_submissions = read_csv(&apos;/datasets/ud170/udacity-students/project_submissions.csv&apos;)</div><div class="line">    </div><div class="line">### For each of these three tables, find the number of rows in the table and</div><div class="line">### the number of unique students in the table. To find the number of unique</div><div class="line">### students, you might want to create a set of the account keys in each table.</div><div class="line"></div><div class="line">enrollment_num_rows = 0             # Replace this with your code</div><div class="line">enrollment_num_unique_students = 0  # Replace this with your code</div><div class="line"></div><div class="line">engagement_num_rows = 0             # Replace this with your code</div><div class="line">engagement_num_unique_students = 0  # Replace this with your code</div><div class="line"></div><div class="line">submission_num_rows = 0             # Replace this with your code</div><div class="line">submission_num_unique_students = 0  # Replace this with your code</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">def unique_num(data):</div><div class="line">    unique_data = set()</div><div class="line">    for element in data:</div><div class="line">        if &apos;acct&apos; in element:</div><div class="line">            element[&apos;account_key&apos;] = element[&apos;acct&apos;]</div><div class="line">            del element[&apos;acct&apos;]</div><div class="line">        unique_data.add(element[&apos;account_key&apos;])</div><div class="line">    return len(unique_data)</div><div class="line"></div><div class="line">print enrollments[0]</div><div class="line">enrollment_num_rows = len(enrollments)             # Replace this with your code</div><div class="line">enrollment_num_unique_students = unique_num(enrollments)  # Replace this with your code</div><div class="line">print enrollment_num_rows</div><div class="line">print enrollment_num_unique_students</div><div class="line"></div><div class="line">    </div><div class="line">print daily_engagement[0]</div><div class="line">engagement_num_rows = len(daily_engagement)             # Replace this with your code</div><div class="line">print engagement_num_rows</div><div class="line">engagement_num_unique_students = unique_num(daily_engagement)  # Replace this with your code</div><div class="line">print engagement_num_unique_students</div><div class="line"></div><div class="line">print project_submissions[0]</div><div class="line">submission_num_rows = len(project_submissions)             # Replace this with your code</div><div class="line">submission_num_unique_students = unique_num(project_submissions)  # Replace this with your code</div><div class="line">print submission_num_rows</div><div class="line">print submission_num_unique_students</div></pre></td></tr></table></figure>
<h2 id="Problems-in-the-Data"><a href="#Problems-in-the-Data" class="headerlink" title="Problems in the Data"></a>Problems in the Data</h2><h3 id="Removing-an-Element-from-a-Dictionary"><a href="#Removing-an-Element-from-a-Dictionary" class="headerlink" title="Removing an Element from a Dictionary"></a>Removing an Element from a Dictionary</h3><p>If you’re not sure how to remove an element from a dictionary, <a href="http://stackoverflow.com/questions/5844672/delete-an-element-from-a-dictionary" target="_blank" rel="external">this</a> post might be helpful.</p>
<h3 id="Solutions-1"><a href="#Solutions-1" class="headerlink" title="Solutions"></a>Solutions</h3><p><a href="https://classroom.udacity.com/nanodegrees/nd002/parts/0021345403/modules/317671873575460/lessons/5430778793/concepts/3cde04b0-873d-41b8-a618-526cd8b5bb35#" target="_blank" rel="external">DAND students click here for solution code</a></p>
<p>IPND students: Look at the end of this lesson for Quiz Solutions</p>
<h3 id="Updated-Code-for-Previous-Exercise"><a href="#Updated-Code-for-Previous-Exercise" class="headerlink" title="Updated Code for Previous Exercise"></a>Updated Code for Previous Exercise</h3><p>After running the above code, Caroline also shows rewriting the solution from the previous exercise to the following code:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">def get_unique_students(data):</div><div class="line">    unique_students = set()</div><div class="line">    for data_point in data:</div><div class="line">        unique_students.add(data_point[&apos;account_key&apos;])</div><div class="line">    return unique_students</div><div class="line">len(enrollments)</div><div class="line">unique_enrolled_students = get_unique_students(enrollments)</div><div class="line">len(unique_enrolled_students)</div><div class="line">len(daily_engagement)</div><div class="line">unique_engagement_students = get_unique_students(daily_engagement)</div><div class="line">len(unique_engagement_students)</div><div class="line">len(project_submissions)</div><div class="line">unique_project_submitters = get_unique_students(project_submissions)</div><div class="line">len(unique_project_submitters)</div></pre></td></tr></table></figure></p>
<h2 id="Missing-Engagement-Records"><a href="#Missing-Engagement-Records" class="headerlink" title="Missing Engagement Records"></a>Missing Engagement Records</h2><p>Printing a Single Row<br><a href="http://www.tutorialspoint.com/python/python_break_statement.htm" target="_blank" rel="external">This page</a> describes how to use Python’s <code>break</code> statement, which might be helpful for printing only a single problem record.</p>
<p>Solutions<br><a href="https://classroom.udacity.com/nanodegrees/nd002/parts/0021345403/modules/317671873575460/lessons/5430778793/concepts/3cde04b0-873d-41b8-a618-526cd8b5bb35#" target="_blank" rel="external">DAND students click here for solution code</a></p>
<p>IPND students: Look at the end of this lesson for Quiz Solutions</p>
<h2 id="Checking-for-More-Problem-Records"><a href="#Checking-for-More-Problem-Records" class="headerlink" title="Checking for More Problem Records"></a>Checking for More Problem Records</h2><h2 id="Tracking-Down-the-Remaining-Problems"><a href="#Tracking-Down-the-Remaining-Problems" class="headerlink" title="Tracking Down the Remaining Problems"></a>Tracking Down the Remaining Problems</h2><h2 id="Refining-the-Question"><a href="#Refining-the-Question" class="headerlink" title="Refining the Question"></a>Refining the Question</h2><h3 id="Exploratory-Data-Analysis"><a href="#Exploratory-Data-Analysis" class="headerlink" title="Exploratory Data Analysis"></a>Exploratory Data Analysis</h3><p>If you’d like to learn more about the exploratory phase of the data analysis process, check out the Udacity course <a href="https://www.udacity.com/course/data-analysis-with-r--ud651" target="_blank" rel="external">Data Analysis with R</a>.</p>
<h3 id="Solutions-2"><a href="#Solutions-2" class="headerlink" title="Solutions"></a>Solutions</h3><p><a href="https://classroom.udacity.com/nanodegrees/nd002/parts/0021345403/modules/317671873575460/lessons/5430778793/concepts/3cde04b0-873d-41b8-a618-526cd8b5bb35#" target="_blank" rel="external">DAND students click here for solution code</a></p>
<p>IPND students: Look at the end of this lesson for Quiz Solutions</p>
<h2 id="Getting-Data-from-First-Week"><a href="#Getting-Data-from-First-Week" class="headerlink" title="Getting Data from First Week"></a>Getting Data from First Week</h2><p><a href="https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/adqc5fF5B8Y.mp4" target="_blank" rel="external">https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/adqc5fF5B8Y.mp4</a><br><a href="https://classroom.udacity.com/courses/ud170/lessons/5430778793/concepts/53961386350923" target="_blank" rel="external">https://classroom.udacity.com/courses/ud170/lessons/5430778793/concepts/53961386350923</a></p>
<p>Note that paid students may have canceled from other courses before paying, and the suggested solution will retain records from these other enrollments.</p>
<h2 id="Indulge-Curiosity"><a href="#Indulge-Curiosity" class="headerlink" title="Indulge Curiosity"></a>Indulge Curiosity</h2><h2 id="Exploring-Student-Engagement"><a href="#Exploring-Student-Engagement" class="headerlink" title="Exploring Student Engagement"></a>Exploring Student Engagement</h2><h2 id="Debugging-Data-Analysis-Code"><a href="#Debugging-Data-Analysis-Code" class="headerlink" title="Debugging Data Analysis Code"></a>Debugging Data Analysis Code</h2><h2 id="Lessons-Completed-in-First-Week"><a href="#Lessons-Completed-in-First-Week" class="headerlink" title="Lessons Completed in First Week"></a>Lessons Completed in First Week</h2><h2 id="Number-of-Visits-in-the-First-Week"><a href="#Number-of-Visits-in-the-First-Week" class="headerlink" title="Number of Visits in the First Week"></a>Number of Visits in the First Week</h2><p><a href="https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/5GYA5j1fqBU.mp4" target="_blank" rel="external">https://s3.cn-north-1.amazonaws.com.cn/u-vid-hd/5GYA5j1fqBU.mp4</a><br><a href="https://classroom.udacity.com/courses/ud170/lessons/5430778793/concepts/53961386450923" target="_blank" rel="external">https://classroom.udacity.com/courses/ud170/lessons/5430778793/concepts/53961386450923</a></p>
<h2 id="Splitting-out-Passing-Students"><a href="#Splitting-out-Passing-Students" class="headerlink" title="Splitting out Passing Students"></a>Splitting out Passing Students</h2><h2 id="Quiz-Comparing-the-Two-Student-Groups"><a href="#Quiz-Comparing-the-Two-Student-Groups" class="headerlink" title="Quiz: Comparing the Two Student Groups"></a>Quiz: Comparing the Two Student Groups</h2><h2 id="Quiz-Making-Histograms"><a href="#Quiz-Making-Histograms" class="headerlink" title="Quiz: Making Histograms"></a>Quiz: Making Histograms</h2><h3 id="Visualizing-data"><a href="#Visualizing-data" class="headerlink" title="Visualizing data"></a>Visualizing data</h3><p>Even though you know the mean, standard deviation, maximum, and minimum of various metrics, there are a lot of other facts about each metric that would be nice to know. Are more values close to the minimum or the maximum? What is the median? And so on.</p>
<p>Instead of printing out more statistics, at this point it makes sense to visualize the data using a histogram.</p>
<h3 id="Making-histograms-in-Python"><a href="#Making-histograms-in-Python" class="headerlink" title="Making histograms in Python"></a>Making histograms in Python</h3><p>To make a histogram in Python, you can use the matplotlib library, which comes with Anaconda. The following code will make a histogram of an example list of data points called <code>data</code>.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">data = [1, 2, 1, 3, 3, 1, 4, 2]</div><div class="line"></div><div class="line">%matplotlib inline</div><div class="line">import matplotlib.pyplot as plt</div><div class="line">plt.hist(data)</div></pre></td></tr></table></figure></p>
<p>The line <code>%matplotlib</code> inline is specifically for IPython notebook, and causes your plots to appear in your notebook rather than a new window. If you are not using IPython notebook, you should not include this line, and instead you should add the line <code>plt.show()</code> at the bottom to show the plot in a new window.</p>
<h3 id="Making-histograms-of-student-data"><a href="#Making-histograms-of-student-data" class="headerlink" title="Making histograms of student data"></a>Making histograms of student data</h3><p>Now use this method to make a histogram of each of the three metrics we looked at for both students who pass the subway project and students who don’t. That is, you should create 6 histograms. Do any of the metrics have histograms with very different shapes for students who pass the subway project vs. those who don’t?</p>
<p>You can also create histograms of the metrics you explored on your own if you’d like.</p>
<h2 id="Are-your-Results-Just-Noise"><a href="#Are-your-Results-Just-Noise" class="headerlink" title="Are your Results Just Noise?"></a>Are your Results Just Noise?</h2><h3 id="Statistics"><a href="#Statistics" class="headerlink" title="Statistics"></a>Statistics</h3><p>If you’d like to learn more about statistics, which you can use to rigorously determine how likely it is that your results are due to chance, check out the Udacity courses <a href="https://www.udacity.com/course/intro-to-descriptive-statistics--ud827" target="_blank" rel="external">Intro to Descriptive Statistics</a> and <a href="https://www.udacity.com/course/intro-to-inferential-statistics--ud201" target="_blank" rel="external">Intro to Inferential Statistics</a>.</p>
<h2 id="Correlation-Does-Not-Imply-Causation"><a href="#Correlation-Does-Not-Imply-Causation" class="headerlink" title="Correlation Does Not Imply Causation"></a>Correlation Does Not Imply Causation</h2><h3 id="Cheese-and-Bedsheet-Tangling"><a href="#Cheese-and-Bedsheet-Tangling" class="headerlink" title="Cheese and Bedsheet Tangling"></a>Cheese and Bedsheet Tangling</h3><p>To see the plot shown in the video, as well as many other amusing or strange correlations, check out this <a href="http://tylervigen.com/spurious-correlations" target="_blank" rel="external">website</a>.</p>
<h3 id="A-B-Testing"><a href="#A-B-Testing" class="headerlink" title="A/B Testing"></a>A/B Testing</h3><p>To learn more about using online experiments to determine whether one change causes another, take the Udacity course <a href="https://www.udacity.com/course/ab-testing--ud257" target="_blank" rel="external">A/B Testing</a>.</p>
<h2 id="Predicting-Based-on-Many-Features"><a href="#Predicting-Based-on-Many-Features" class="headerlink" title="Predicting Based on Many Features"></a>Predicting Based on Many Features</h2><h3 id="Machine-Learning"><a href="#Machine-Learning" class="headerlink" title="Machine Learning"></a>Machine Learning</h3><p>To learn more about using machine learning to automatically make predictions, take the Udacity course <a href="https://www.udacity.com/course/intro-to-machine-learning--ud120" target="_blank" rel="external">Intro to Machine Learning</a>.</p>
<h2 id="Communication"><a href="#Communication" class="headerlink" title="Communication"></a>Communication</h2><h2 id="Quiz-Improving-Plots-and-Sharing-Findings"><a href="#Quiz-Improving-Plots-and-Sharing-Findings" class="headerlink" title="Quiz: Improving Plots and Sharing Findings"></a>Quiz: Improving Plots and Sharing Findings</h2><h3 id="Adding-labels-and-titles"><a href="#Adding-labels-and-titles" class="headerlink" title="Adding labels and titles"></a>Adding labels and titles</h3><p>In matplotlib, you can add axis labels using <code>plt.xlabel(&quot;Label for x axis&quot;)</code> and <code>plt.ylabel(&quot;Label for y axis&quot;)</code>. For histograms, you usually only need an x-axis label, but for other plot types a y-axis label may also be needed. You can also add a title using <code>plt.title(&quot;Title of plot&quot;)</code>.</p>
<h3 id="Making-plots-look-nicer-with-seaborn"><a href="#Making-plots-look-nicer-with-seaborn" class="headerlink" title="Making plots look nicer with seaborn"></a>Making plots look nicer with seaborn</h3><p>You can automatically make matplotlib plots look nicer using the seaborn library. This library is not automatically included with Anaconda, but Anaconda includes something called a package manager to make it easier to add new libraries. The package manager is called conda, and to use it, you should open the Command Prompt (on a PC) or terminal (on Mac or Linux), and type the command <code>conda install seaborn</code>.</p>
<p>If you are using a different Python installation than Anaconda, you may have a different package manager. The most common ones are pip and easy_install, and you can use them with the commands <code>pip install seaborn</code> or <code>easy_install seaborn</code> respectively.</p>
<p>Once you have installed seaborn, you can import it anywhere in your code using the line <code>import seaborn as sns</code>. Then any plot you make afterwards will automatically look better. Give it a try!</p>
<p>If you’re wondering why the abbreviation for seaborn is sns, it’s because seaborn was named after the character Samuel Norman Seaborn from the show The West Wing, and sns are his initials.</p>
<p>The seaborn package also includes some extra functions you can use to make complex plots that would be difficult in matplotlib. We won’t be covering those in this course, but if you’d like to see what functions seaborn has available, you can look through the documentation.</p>
<h3 id="Adding-extra-arguments-to-your-plot"><a href="#Adding-extra-arguments-to-your-plot" class="headerlink" title="Adding extra arguments to your plot"></a>Adding extra arguments to your plot</h3><p>You’ll also frequently want to add some arguments to your plot to tune how it looks. You can see what arguments are available on the documentation page for the hist function. One common argument to pass is the <code>bins</code> argument, which sets the number of bins used by your histogram. For example, <code>plt.hist(data, bins=20)</code> would make sure your histogram has 20 bins.</p>
<h3 id="Improving-one-of-your-plots"><a href="#Improving-one-of-your-plots" class="headerlink" title="Improving one of your plots"></a>Improving one of your plots</h3><p>Use these techniques to improve at least one of the plots you made earlier.</p>
<h3 id="Sharing-your-findings"><a href="#Sharing-your-findings" class="headerlink" title="Sharing your findings"></a>Sharing your findings</h3><p>Finally, decide which of the discoveries you made this lesson you would most want to communicate to someone else, and write a forum post sharing your findings.</p>
<h2 id="Data-Analysis-and-Related-Terms"><a href="#Data-Analysis-and-Related-Terms" class="headerlink" title="Data Analysis and Related Terms"></a>Data Analysis and Related Terms</h2><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p><a href="https://www.udacity.com/api/nodes/5407139148/supplemental_media/l1-solution-codeipynb/download" target="_blank" rel="external">L1_Solution_Code.ipynb</a></p>
<h2 id="Quiz-Solutions"><a href="#Quiz-Solutions" class="headerlink" title="Quiz Solutions"></a>Quiz Solutions</h2><h3 id="CSVs-in-Python-1"><a href="#CSVs-in-Python-1" class="headerlink" title="CSVs in Python"></a>CSVs in Python</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">import unicodecsv</div><div class="line"></div><div class="line">def read_csv(filename):</div><div class="line">    with open(filename, &apos;rb&apos;) as f:</div><div class="line">        reader = unicodecsv.DictReader(f)</div><div class="line">        return list(reader)</div><div class="line"></div><div class="line">enrollments = read_csv(&apos;enrollments.csv&apos;)</div><div class="line">daily_engagement = read_csv(&apos;daily_engagement.csv&apos;)</div><div class="line">project_submissions = read_csv(&apos;project_submissions.csv&apos;)</div></pre></td></tr></table></figure>
<h3 id="Investigating-the-Data-1"><a href="#Investigating-the-Data-1" class="headerlink" title="Investigating the Data"></a>Investigating the Data</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">len(enrollments)</div><div class="line"></div><div class="line">unique_enrolled_students = set()</div><div class="line">for enrollment in enrollments:</div><div class="line">    unique_enrolled_students.add(enrollment[&apos;account_key&apos;])</div><div class="line">len(unique_enrolled_students)</div><div class="line"></div><div class="line">len(daily_engagement)</div><div class="line"></div><div class="line">unique_engagement_students = set()</div><div class="line">for engagement_record in daily_engagement:</div><div class="line">    unique_engagement_students.add(engagement_record[&apos;acct&apos;])</div><div class="line">len(unique_engagement_students)</div><div class="line"></div><div class="line">len(project_submissions)</div><div class="line"></div><div class="line">unique_project_submitters = set()</div><div class="line">for submission in project_submissions:</div><div class="line">    unique_project_submitters.add(submission[&apos;account_key&apos;])</div><div class="line">len(unique_project_submitters)</div></pre></td></tr></table></figure>
<h3 id="Problems-in-the-Data-1"><a href="#Problems-in-the-Data-1" class="headerlink" title="Problems in the Data"></a>Problems in the Data</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">for engagement_record in daily_engagement:</div><div class="line">    engagement_record[&apos;account_key&apos;] = engagement_record[&apos;acct&apos;]</div><div class="line">    del[engagement_record[&apos;acct&apos;]]</div></pre></td></tr></table></figure>
<h3 id="Missing-engagement-records"><a href="#Missing-engagement-records" class="headerlink" title="Missing engagement records"></a>Missing engagement records</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">for enrollment in enrollments:</div><div class="line">    student = enrollment[&apos;account_key&apos;]</div><div class="line">    if student not in unique_engagement_students:</div><div class="line">        print enrollment</div><div class="line">        break</div></pre></td></tr></table></figure>
<h3 id="Checking-for-more-problem-records"><a href="#Checking-for-more-problem-records" class="headerlink" title="Checking for more problem records"></a>Checking for more problem records</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">num_problem_students = 0</div><div class="line">for enrollment in enrollments:</div><div class="line">    student = enrollment[&apos;account_key&apos;]</div><div class="line">    if (student not in unique_engagement_students and </div><div class="line">            enrollment[&apos;join_date&apos;] != enrollment[&apos;cancel_date&apos;]):</div><div class="line">        print enrollment</div><div class="line">        num_problem_students += 1</div></pre></td></tr></table></figure>
<p>num_problem_students</p>
<h3 id="Refining-the-Question-1"><a href="#Refining-the-Question-1" class="headerlink" title="Refining the Question"></a>Refining the Question</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">paid_students = &#123;&#125;</div><div class="line">for enrollment in non_udacity_enrollments:</div><div class="line">    if (not enrollment[&apos;is_canceled&apos;] or</div><div class="line">            enrollment[&apos;days_to_cancel&apos;] &gt; 7):</div><div class="line">        account_key = enrollment[&apos;account_key&apos;]</div><div class="line">        enrollment_date = enrollment[&apos;join_date&apos;]</div><div class="line">        if (account_key not in paid_students or</div><div class="line">                enrollment_date &gt; paid_students[account_key]):</div><div class="line">            paid_students[account_key] = enrollment_date</div><div class="line">len(paid_students)</div></pre></td></tr></table></figure>
<p>Note that if you switch the order of the second if statement like so</p>
<p>if (enrollment_date &gt; paid_students[account_key] or<br>account_key not in paid_students)<br>you will most likely get an error. Why do you think that is? Check out this Stackoverflow discussion to find out more: <a href="http://stackoverflow.com/questions/13960657/does-python-evaluate-ifs-conditions-lazily" target="_blank" rel="external">http://stackoverflow.com/questions/13960657/does-python-evaluate-ifs-conditions-lazily</a></p>
<h3 id="Getting-Data-from-First-Week-1"><a href="#Getting-Data-from-First-Week-1" class="headerlink" title="Getting Data from First Week"></a>Getting Data from First Week</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">def within_one_week(join_date, engagement_date):</div><div class="line">    time_delta = engagement_date - join_date</div><div class="line">    return time_delta.days &lt; 7</div><div class="line"></div><div class="line">def remove_free_trial_cancels(data):</div><div class="line">    new_data = []</div><div class="line">    for data_point in data:</div><div class="line">        if data_point[&apos;account_key&apos;] in paid_students:</div><div class="line">            new_data.append(data_point)</div><div class="line">    return new_data</div><div class="line"></div><div class="line">paid_enrollments = remove_free_trial_cancels(non_udacity_enrollments)</div><div class="line">paid_engagement = remove_free_trial_cancels(non_udacity_engagement)</div><div class="line">paid_submissions = remove_free_trial_cancels(non_udacity_submissions)</div><div class="line"></div><div class="line">print len(paid_enrollments)</div><div class="line">print len(paid_engagement)</div><div class="line">print len(paid_submissions)</div><div class="line"></div><div class="line">paid_engagement_in_first_week = []</div><div class="line">for engagement_record in paid_engagement:</div><div class="line">    account_key = engagement_record[&apos;account_key&apos;]</div><div class="line">    join_date = paid_students[account_key]</div><div class="line">    engagement_record_date = engagement_record[&apos;utc_date&apos;]</div><div class="line"></div><div class="line">    if within_one_week(join_date, engagement_record_date):</div><div class="line">         paid_engagement_in_first_week.append(engagement_record)</div><div class="line"></div><div class="line">len(paid_engagement_in_first_week)</div></pre></td></tr></table></figure>
<h3 id="Debugging-Data-Analysis-Code-1"><a href="#Debugging-Data-Analysis-Code-1" class="headerlink" title="Debugging Data Analysis Code"></a>Debugging Data Analysis Code</h3><p>Here is the code Caroline shows in the solution video:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">student_with_max_minutes = None</div><div class="line">max_minutes = 0</div><div class="line"></div><div class="line">for student, total_minutes in total_minutes_by_account.items():</div><div class="line">    if total_minutes &gt; max_minutes:</div><div class="line">        max_minutes = total_minutes</div><div class="line">        student_with_max_minutes = student</div><div class="line"></div><div class="line">max_minutes</div><div class="line"></div><div class="line">for engagement_record in paid_engagement_in_first_week:</div><div class="line">    if engagement_record[&apos;account_key&apos;] == student_with_max_minutes:</div><div class="line">        print engagement_record</div></pre></td></tr></table></figure></p>
<p>Alternatively, you can find the account key with the maximum minutes using this shorthand notation:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">max(total_minutes_by_account.items(), key=lambda pair: pair[1])</div></pre></td></tr></table></figure></p>
<h3 id="Fixing-Bug-in-within-one-week"><a href="#Fixing-Bug-in-within-one-week" class="headerlink" title="Fixing Bug in within_one_week()"></a>Fixing Bug in within_one_week()</h3><p>She also updated the code for the <code>within_one_week</code> function to the following:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">def within_one_week(join_date, engagement_date):</div><div class="line">    time_delta = engagement_date - join_date</div><div class="line">    return time_delta.days &gt;= 0 and time_delta.days &lt; 7</div></pre></td></tr></table></figure></p>
<h3 id="Lessons-Completed-in-First-Week-1"><a href="#Lessons-Completed-in-First-Week-1" class="headerlink" title="Lessons Completed in First Week"></a>Lessons Completed in First Week</h3><p>First, Caroline refactors the given code to analyze total minutes spent in the first week into the following:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">from collections import defaultdict</div><div class="line"></div><div class="line">def group_data(data, key_name):</div><div class="line">    grouped_data = defaultdict(list)</div><div class="line">    for data_point in data:</div><div class="line">        key = data_point[key_name]</div><div class="line">        grouped_data[key].append(data_point)</div><div class="line">    return grouped_data</div><div class="line"></div><div class="line">engagement_by_account = group_data(paid_engagement_in_first_week,</div><div class="line">                                   &apos;account_key&apos;)</div><div class="line"></div><div class="line">def sum_grouped_items(grouped_data, field_name):</div><div class="line">    summed_data = &#123;&#125;</div><div class="line">    for key, data_points in grouped_data.items():</div><div class="line">        total = 0</div><div class="line">        for data_point in data_points:</div><div class="line">            total += data_point[field_name]</div><div class="line">        summed_data[key] = total</div><div class="line">    return summed_data</div><div class="line"></div><div class="line">total_minutes_by_account = sum_grouped_items(engagement_by_account,</div><div class="line">                                             &apos;total_minutes_visited&apos;)</div><div class="line"></div><div class="line">import numpy as np</div><div class="line"></div><div class="line">def describe_data(data):</div><div class="line">    print &apos;Mean:&apos;, np.mean(data)</div><div class="line">    print &apos;Standard deviation:&apos;, np.std(data)</div><div class="line">    print &apos;Minimum:&apos;, np.min(data)</div><div class="line">    print &apos;Maximum:&apos;, np.max(data)</div><div class="line"></div><div class="line">describe_data(total_minutes_by_account.values())</div></pre></td></tr></table></figure></p>
<p>Then she called the functions she created to analyze the lessons completed in the first week as follows:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">lessons_completed_by_account = sum_grouped_items(engagement_by_account,</div><div class="line">                                                 &apos;lessons_completed&apos;)</div><div class="line">describe_data(lessons_completed_by_account.values())</div></pre></td></tr></table></figure></p>
<h3 id="Number-of-Visits-in-the-First-Week-1"><a href="#Number-of-Visits-in-the-First-Week-1" class="headerlink" title="Number of Visits in the First Week"></a>Number of Visits in the First Week</h3><p>Here is the code Caroline shows in the solution video. First she ran this code to create the <code>has_visited</code> field:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">for engagement_record in paid_engagement:</div><div class="line">    if engagement_record[&apos;num_courses_visited&apos;] &gt; 0:</div><div class="line">        engagement_record[&apos;has_visited&apos;] = 1</div><div class="line">    else:</div><div class="line">        engagement_record[&apos;has_visited&apos;] = 0</div></pre></td></tr></table></figure></p>
<p>Then, after recreating the <code>engagement_by_account</code> dictionary with the updated data, she ran the following code to analyze days visited in the first week:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">days_visited_by_account = sum_grouped_items(engagement_by_account,</div><div class="line">                                            &apos;has_visited&apos;)</div><div class="line">describe_data(days_visited_by_account.values())</div></pre></td></tr></table></figure></p>
<h3 id="Splitting-out-Passing-Students-1"><a href="#Splitting-out-Passing-Students-1" class="headerlink" title="Splitting out Passing Students"></a>Splitting out Passing Students</h3><p>Here is the code Caroline shows in the solution video:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">subway_project_lesson_keys = [&apos;746169184&apos;, &apos;3176718735&apos;]</div><div class="line"></div><div class="line">pass_subway_project = set()</div><div class="line"></div><div class="line">for submission in paid_submissions:</div><div class="line">    project = submission[&apos;lesson_key&apos;]</div><div class="line">    rating = submission[&apos;assigned_rating&apos;]    </div><div class="line"></div><div class="line">    if ((project in subway_project_lesson_keys) and</div><div class="line">            (rating == &apos;PASSED&apos; or rating == &apos;DISTINCTION&apos;)):</div><div class="line">        pass_subway_project.add(submission[&apos;account_key&apos;])</div><div class="line"></div><div class="line">len(pass_subway_project)</div><div class="line"></div><div class="line">passing_engagement = []</div><div class="line">non_passing_engagement = []</div><div class="line"></div><div class="line">for engagement_record in paid_engagement_in_first_week:</div><div class="line">    if engagement_record[&apos;account_key&apos;] in pass_subway_project:</div><div class="line">        passing_engagement.append(engagement_record)</div><div class="line">    else:</div><div class="line">        non_passing_engagement.append(engagement_record)</div><div class="line"></div><div class="line">print len(passing_engagement)</div><div class="line">print len(non_passing_engagement)</div></pre></td></tr></table></figure></p>
<h3 id="Comparing-the-Two-Student-Groups"><a href="#Comparing-the-Two-Student-Groups" class="headerlink" title="Comparing the Two Student Groups"></a>Comparing the Two Student Groups</h3><p>Here is the code Caroline shows in the solution video:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">passing_engagement_by_account = group_data(passing_engagement,</div><div class="line">                                           &apos;account_key&apos;)</div><div class="line">non_passing_engagement_by_account = group_data(non_passing_engagement,</div><div class="line">                                               &apos;account_key&apos;)</div><div class="line"></div><div class="line">print &apos;non-passing students:&apos;</div><div class="line">non_passing_minutes = sum_grouped_items(</div><div class="line">    non_passing_engagement_by_account,</div><div class="line">    &apos;total_minutes_visited&apos;</div><div class="line">)</div><div class="line">describe_data(non_passing_minutes.values())</div><div class="line">​</div><div class="line">print &apos;passing students:&apos;</div><div class="line">passing_minutes = sum_grouped_items(</div><div class="line">    passing_engagement_by_account,</div><div class="line">    &apos;total_minutes_visited&apos;</div><div class="line">)</div><div class="line">describe_data(passing_minutes.values())</div><div class="line"></div><div class="line">print &apos;non-passing students:&apos;</div><div class="line">non_passing_lessons = sum_grouped_items(</div><div class="line">    non_passing_engagement_by_account,</div><div class="line">    &apos;lessons_completed&apos;</div><div class="line">)</div><div class="line">describe_data(non_passing_lessons.values())</div><div class="line"></div><div class="line">print &apos;passing students:&apos;</div><div class="line">passing_lessons = sum_grouped_items(</div><div class="line">    passing_engagement_by_account,</div><div class="line">    &apos;lessons_completed&apos;</div><div class="line">)</div><div class="line">describe_data(passing_lessons.values())</div><div class="line"></div><div class="line">print &apos;non-passing students:&apos;</div><div class="line">non_passing_visits = sum_grouped_items(</div><div class="line">    non_passing_engagement_by_account, </div><div class="line">    &apos;has_visited&apos;</div><div class="line">)</div><div class="line">describe_data(non_passing_visits.values())</div><div class="line"></div><div class="line">print &apos;passing students:&apos;</div><div class="line">passing_visits = sum_grouped_items(</div><div class="line">    passing_engagement_by_account,</div><div class="line">    &apos;has_visited&apos;</div><div class="line">)</div><div class="line">describe_data(passing_visits.values())</div></pre></td></tr></table></figure></p>
<h3 id="Making-Histograms"><a href="#Making-Histograms" class="headerlink" title="Making Histograms"></a>Making Histograms</h3><p>Here is the code Caroline shows in the solution video:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">%pylab inline</div><div class="line"></div><div class="line">import matplotlib.pyplot as plt</div><div class="line">import numpy as np</div><div class="line"></div><div class="line"># Summarize the given data</div><div class="line">def describe_data(data):</div><div class="line">    print &apos;Mean:&apos;, np.mean(data)</div><div class="line">    print &apos;Standard deviation:&apos;, np.std(data)</div><div class="line">    print &apos;Minimum:&apos;, np.min(data)</div><div class="line">    print &apos;Maximum:&apos;, np.max(data)</div><div class="line">    plt.hist(data)</div></pre></td></tr></table></figure></p>
<h4 id="Fixing-the-Number-of-Bins"><a href="#Fixing-the-Number-of-Bins" class="headerlink" title="Fixing the Number of Bins"></a>Fixing the Number of Bins</h4><p>To change how many bins are shown for each plot, try using the <code>bins</code> argument to the <code>hist</code> function. You can find documentation for the <code>hist</code> function and the arguments it takes <a href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.hist" target="_blank" rel="external">here</a>.</p>
<h3 id="Improving-Plots-and-Sharing-Findings"><a href="#Improving-Plots-and-Sharing-Findings" class="headerlink" title="Improving Plots and Sharing Findings"></a>Improving Plots and Sharing Findings</h3><p>Here is the code Caroline shows in the solution video:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">import seaborn as sns</div><div class="line"></div><div class="line">plt.hist(non_passing_visits.values(), bins=8)</div><div class="line">plt.xlabel(&apos;Number of days&apos;)</div><div class="line">plt.title(&apos;Distribution of classroom visits in the first week &apos; + </div><div class="line">          &apos;for students who do not pass the subway project&apos;)</div><div class="line"></div><div class="line">plt.hist(passing_visits.values(), bins=8)</div><div class="line">plt.xlabel(&apos;Number of days&apos;)</div><div class="line">plt.title(&apos;Distribution of classroom visits in the first week &apos; + </div><div class="line">          &apos;for students who pass the subway project&apos;)</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-Survey-Says"><a href="#Quiz-Survey-Says" class="headerlink" title="Quiz: Survey Says!"></a>Quiz: Survey Says!</h2><h1 id="Numpy-and-Pandas-for-1D-Data"><a href="#Numpy-and-Pandas-for-1D-Data" class="headerlink" title="Numpy and Pandas for 1D Data"></a>Numpy and Pandas for 1D Data</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><h2 id="Quiz-Gapminder-Data"><a href="#Quiz-Gapminder-Data" class="headerlink" title="Quiz: Gapminder Data"></a>Quiz: Gapminder Data</h2><p>Gapminder data<br>The data in this lesson was obtained from the site <a href="http://www.gapminder.org/data/" target="_blank" rel="external">gapminder.org</a>. The variables included are:</p>
<p>Aged 15+ Employment Rate (%)<br>Life Expectancy (years)<br>GDP/capita (US$, inflation adjusted)<br>Primary school completion (% of boys)<br>Primary school completion (% of girls)<br>You can also obtain the data to anlayze on your own from the Downloadables section.</p>
<h2 id="One-Dimensional-Data-in-NumPy-and-Pandas"><a href="#One-Dimensional-Data-in-NumPy-and-Pandas" class="headerlink" title="One-Dimensional Data in NumPy and Pandas"></a>One-Dimensional Data in NumPy and Pandas</h2><h2 id="Quiz-NumPy-Arrays"><a href="#Quiz-NumPy-Arrays" class="headerlink" title="Quiz: NumPy Arrays"></a>Quiz: NumPy Arrays</h2><table>
<thead>
<tr>
<th>Pandas</th>
<th>Numpy</th>
</tr>
</thead>
<tbody>
<tr>
<td>Series</td>
<td>Array</td>
</tr>
</tbody>
</table>
<p>similarity and difference between numpy array and python list</p>
<table>
<thead>
<tr>
<th>similarity</th>
<th>difference</th>
</tr>
</thead>
<tbody>
<tr>
<td>for loop</td>
<td>numpy array have the same type </td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line"></div><div class="line"># First 20 countries with employment data</div><div class="line">countries = np.array([</div><div class="line">    &apos;Afghanistan&apos;, &apos;Albania&apos;, &apos;Algeria&apos;, &apos;Angola&apos;, &apos;Argentina&apos;,</div><div class="line">    &apos;Armenia&apos;, &apos;Australia&apos;, &apos;Austria&apos;, &apos;Azerbaijan&apos;, &apos;Bahamas&apos;,</div><div class="line">    &apos;Bahrain&apos;, &apos;Bangladesh&apos;, &apos;Barbados&apos;, &apos;Belarus&apos;, &apos;Belgium&apos;,</div><div class="line">    &apos;Belize&apos;, &apos;Benin&apos;, &apos;Bhutan&apos;, &apos;Bolivia&apos;,</div><div class="line">    &apos;Bosnia and Herzegovina&apos;</div><div class="line">])</div><div class="line"></div><div class="line"># Employment data in 2007 for those 20 countries</div><div class="line">employment = np.array([</div><div class="line">    55.70000076,  51.40000153,  50.5       ,  75.69999695,</div><div class="line">    58.40000153,  40.09999847,  61.5       ,  57.09999847,</div><div class="line">    60.90000153,  66.59999847,  60.40000153,  68.09999847,</div><div class="line">    66.90000153,  53.40000153,  48.59999847,  56.79999924,</div><div class="line">    71.59999847,  58.40000153,  70.40000153,  41.20000076</div><div class="line">])</div><div class="line"></div><div class="line"># Change False to True for each block of code to see what it does</div><div class="line"></div><div class="line"># Accessing elements</div><div class="line">if False:</div><div class="line">    print countries[0]</div><div class="line">    print countries[3]</div><div class="line"></div><div class="line"># Slicing</div><div class="line">if False:</div><div class="line">    print countries[0:3]</div><div class="line">    print countries[:3]</div><div class="line">    print countries[17:]</div><div class="line">    print countries[:]</div><div class="line"></div><div class="line"># Element types</div><div class="line">if False:</div><div class="line">    print countries.dtype</div><div class="line">    print employment.dtype</div><div class="line">    print np.array([0, 1, 2, 3]).dtype</div><div class="line">    print np.array([1.0, 1.5, 2.0, 2.5]).dtype</div><div class="line">    print np.array([True, False, True]).dtype</div><div class="line">    print np.array([&apos;AL&apos;, &apos;AK&apos;, &apos;AZ&apos;, &apos;AR&apos;, &apos;CA&apos;]).dtype</div><div class="line"></div><div class="line"># Looping</div><div class="line">if False:</div><div class="line">    for country in countries:</div><div class="line">        print &apos;Examining country &#123;&#125;&apos;.format(country)</div><div class="line"></div><div class="line">    for i in range(len(countries)):</div><div class="line">        country = countries[i]</div><div class="line">        country_employment = employment[i]</div><div class="line">        print &apos;Country &#123;&#125; has employment &#123;&#125;&apos;.format(country,</div><div class="line">                country_employment)</div><div class="line"></div><div class="line"># Numpy functions</div><div class="line">if False:</div><div class="line">    print employment.mean()</div><div class="line">    print employment.std()</div><div class="line">    print employment.max()</div><div class="line">    print employment.sum()</div><div class="line"></div><div class="line">def max_employment(countries, employment):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to return the name of the country</div><div class="line">    with the highest employment in the given employment</div><div class="line">    data, and the employment in that country.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    max_country = None      # Replace this with your code</div><div class="line">    max_value = None   # Replace this with your code</div><div class="line"></div><div class="line">    return (max_country, max_value)</div></pre></td></tr></table></figure>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">def max_employment(countries, employment):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to return the name of the country</div><div class="line">    with the highest employment in the given employment</div><div class="line">    data, and the employment in that country.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    max_country = countries[employment.argmax()]      # Replace this with your code</div><div class="line">    max_value = employment.max()   # Replace this with your code</div><div class="line"></div><div class="line">    return (max_country, max_value)</div></pre></td></tr></table></figure></p>
<p><code>argmax()</code> return the position of <code>max()</code></p>
<h2 id="Quiz-Vectorized-Operations"><a href="#Quiz-Vectorized-Operations" class="headerlink" title="Quiz: Vectorized Operations"></a>Quiz: Vectorized Operations</h2><p><code>+</code> operation:<br>python | numpy<br>—|—<br>list concatenation | vector addition</p>
<h2 id="Quiz-Multiplying-by-a-Scalar"><a href="#Quiz-Multiplying-by-a-Scalar" class="headerlink" title="Quiz: Multiplying by a Scalar"></a>Quiz: Multiplying by a Scalar</h2><h2 id="Quiz-Calculate-Overall-Completion-Rate"><a href="#Quiz-Calculate-Overall-Completion-Rate" class="headerlink" title="Quiz: Calculate Overall Completion Rate"></a>Quiz: Calculate Overall Completion Rate</h2><p>Bitwise Operations<br>See <a href="https://en.wikipedia.org/wiki/Bitwise_operation" target="_blank" rel="external">this article</a> for more information about bitwise operations.</p>
<p>In NumPy, <code>a &amp; b</code> performs a <strong>bitwise and</strong> of <code>a</code> and <code>b</code>. This is not necessarily the same as a <strong>logical and</strong>, if you wanted to see if matching terms in two integer vectors were non-zero. However, if <code>a</code> and <code>b</code> are both arrays of booleans, rather than integers, <strong>bitwise and</strong> and <strong>logical and</strong> are the same thing. If you want to perform a <strong>logical and</strong> on integer vectors, then you can use the NumPy function <code>np.logical_and(a, b)</code> or convert them into boolean vectors first.</p>
<p>Similarly, <code>a | b</code> performs a <strong>bitwise or</strong>, and <code>~a</code> performs a <strong>bitwise not</strong>. However, if your arrays contain booleans, these will be the same as performing <strong>logical or</strong> and <strong>logical not</strong>. NumPy also has <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.logical_or.html" target="_blank" rel="external">similar</a> <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.logical_not.html" target="_blank" rel="external">functions</a> for performing these logical operations on integer-valued arrays.</p>
<p>For the quiz, assume that the number of males and females are equal i.e. we can take a simple average to get an overall completion rate.</p>
<p>In the solution, we may want to <code>/ 2.</code> instead of just <code>/ 2</code>. This is because in Python 2, dividing an integer by another integer (2) drops fractions, so if our inputs are also integers, we may end up losing information. If we divide by a float (<code>2.</code>) then we will definitely retain decimal values.</p>
<p>Erratum: The output of cell [3] in the solution video is incorrect: it appears that the <code>male</code> variable has not been set to the proper value set in cell [2]. All values except for the first will be different. The correct output in cell <code>Out[3]:</code> should instead start with:</p>
<p><code>array([ 192.83205,  205.28855,  202.82258,  186.63257,  206.91115,</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line"></div><div class="line"># Change False to True for each block of code to see what it does</div><div class="line"></div><div class="line"># Arithmetic operations between 2 NumPy arrays</div><div class="line">if False:</div><div class="line">    a = np.array([1, 2, 3, 4])</div><div class="line">    b = np.array([1, 2, 1, 2])</div><div class="line">    </div><div class="line">    print a + b</div><div class="line">    print a - b</div><div class="line">    print a * b</div><div class="line">    print a / b</div><div class="line">    print a ** b</div><div class="line">    </div><div class="line"># Arithmetic operations between a NumPy array and a single number</div><div class="line">if False:</div><div class="line">    a = np.array([1, 2, 3, 4])</div><div class="line">    b = 2</div><div class="line">    </div><div class="line">    print a + b</div><div class="line">    print a - b</div><div class="line">    print a * b</div><div class="line">    print a / b</div><div class="line">    print a ** b</div><div class="line">    </div><div class="line"># Logical operations with NumPy arrays</div><div class="line">if False:</div><div class="line">    a = np.array([True, True, False, False])</div><div class="line">    b = np.array([True, False, True, False])</div><div class="line">    </div><div class="line">    print a &amp; b</div><div class="line">    print a | b</div><div class="line">    print ~a</div><div class="line">    </div><div class="line">    print a &amp; True</div><div class="line">    print a &amp; False</div><div class="line">    </div><div class="line">    print a | True</div><div class="line">    print a | False</div><div class="line">    </div><div class="line"># Comparison operations between 2 NumPy Arrays</div><div class="line">if False:</div><div class="line">    a = np.array([1, 2, 3, 4, 5])</div><div class="line">    b = np.array([5, 4, 3, 2, 1])</div><div class="line">    </div><div class="line">    print a &gt; b</div><div class="line">    print a &gt;= b</div><div class="line">    print a &lt; b</div><div class="line">    print a &lt;= b</div><div class="line">    print a == b</div><div class="line">    print a != b</div><div class="line">    </div><div class="line"># Comparison operations between a NumPy array and a single number</div><div class="line">if False:</div><div class="line">    a = np.array([1, 2, 3, 4])</div><div class="line">    b = 2</div><div class="line">    </div><div class="line">    print a &gt; b</div><div class="line">    print a &gt;= b</div><div class="line">    print a &lt; b</div><div class="line">    print a &lt;= b</div><div class="line">    print a == b</div><div class="line">    print a != b</div><div class="line">    </div><div class="line"># First 20 countries with school completion data</div><div class="line">countries = np.array([</div><div class="line">       &apos;Algeria&apos;, &apos;Argentina&apos;, &apos;Armenia&apos;, &apos;Aruba&apos;, &apos;Austria&apos;,&apos;Azerbaijan&apos;,</div><div class="line">       &apos;Bahamas&apos;, &apos;Barbados&apos;, &apos;Belarus&apos;, &apos;Belgium&apos;, &apos;Belize&apos;, &apos;Bolivia&apos;,</div><div class="line">       &apos;Botswana&apos;, &apos;Brunei&apos;, &apos;Bulgaria&apos;, &apos;Burkina Faso&apos;, &apos;Burundi&apos;,</div><div class="line">       &apos;Cambodia&apos;, &apos;Cameroon&apos;, &apos;Cape Verde&apos;</div><div class="line">])</div><div class="line"></div><div class="line"># Female school completion rate in 2007 for those 20 countries</div><div class="line">female_completion = np.array([</div><div class="line">    97.35583,  104.62379,  103.02998,   95.14321,  103.69019,</div><div class="line">    98.49185,  100.88828,   95.43974,   92.11484,   91.54804,</div><div class="line">    95.98029,   98.22902,   96.12179,  119.28105,   97.84627,</div><div class="line">    29.07386,   38.41644,   90.70509,   51.7478 ,   95.45072</div><div class="line">])</div><div class="line"></div><div class="line"># Male school completion rate in 2007 for those 20 countries</div><div class="line">male_completion = np.array([</div><div class="line">     95.47622,  100.66476,   99.7926 ,   91.48936,  103.22096,</div><div class="line">     97.80458,  103.81398,   88.11736,   93.55611,   87.76347,</div><div class="line">    102.45714,   98.73953,   92.22388,  115.3892 ,   98.70502,</div><div class="line">     37.00692,   45.39401,   91.22084,   62.42028,   90.66958</div><div class="line">])</div><div class="line"></div><div class="line">def overall_completion_rate(female_completion, male_completion):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to return a NumPy array containing the overall</div><div class="line">    school completion rate for each country. The arguments are NumPy</div><div class="line">    arrays giving the female and male completion of each country in</div><div class="line">    the same order.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return None</div></pre></td></tr></table></figure>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">def overall_completion_rate(female_completion, male_completion):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to return a NumPy array containing the overall</div><div class="line">    school completion rate for each country. The arguments are NumPy</div><div class="line">    arrays giving the female and male completion of each country in</div><div class="line">    the same order.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return (female_completion + male_completion ) /2.</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-Standardizing-Data"><a href="#Quiz-Standardizing-Data" class="headerlink" title="Quiz: Standardizing Data"></a>Quiz: Standardizing Data</h2><p>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line"></div><div class="line"># First 20 countries with employment data</div><div class="line">countries = np.array([</div><div class="line">    &apos;Afghanistan&apos;, &apos;Albania&apos;, &apos;Algeria&apos;, &apos;Angola&apos;, &apos;Argentina&apos;,</div><div class="line">    &apos;Armenia&apos;, &apos;Australia&apos;, &apos;Austria&apos;, &apos;Azerbaijan&apos;, &apos;Bahamas&apos;,</div><div class="line">    &apos;Bahrain&apos;, &apos;Bangladesh&apos;, &apos;Barbados&apos;, &apos;Belarus&apos;, &apos;Belgium&apos;,</div><div class="line">    &apos;Belize&apos;, &apos;Benin&apos;, &apos;Bhutan&apos;, &apos;Bolivia&apos;,</div><div class="line">    &apos;Bosnia and Herzegovina&apos;</div><div class="line">])</div><div class="line"></div><div class="line"># Employment data in 2007 for those 20 countries</div><div class="line">employment = np.array([</div><div class="line">    55.70000076,  51.40000153,  50.5       ,  75.69999695,</div><div class="line">    58.40000153,  40.09999847,  61.5       ,  57.09999847,</div><div class="line">    60.90000153,  66.59999847,  60.40000153,  68.09999847,</div><div class="line">    66.90000153,  53.40000153,  48.59999847,  56.79999924,</div><div class="line">    71.59999847,  58.40000153,  70.40000153,  41.20000076</div><div class="line">])</div><div class="line"></div><div class="line"># Change this country name to change what country will be printed when you</div><div class="line"># click &quot;Test Run&quot;. Your function will be called to determine the standardized</div><div class="line"># score for this country for each of the given 5 Gapminder variables in 2007.</div><div class="line"># The possible country names are available in the Downloadables section.</div><div class="line"></div><div class="line">country_name = &apos;United States&apos;</div><div class="line"></div><div class="line">def standardize_data(values):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to return a standardized version of the given values,</div><div class="line">    which will be in a NumPy array. Each value should be translated into the</div><div class="line">    number of standard deviations that value is away from the mean of the data.</div><div class="line">    (A positive number indicates a value higher than the mean, and a negative</div><div class="line">    number indicates a value lower than the mean.)</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return None</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">def standardize_data(values):</div><div class="line">    return (values - values.mean()) / values.std()</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-NumPy-Index-Arrays"><a href="#Quiz-NumPy-Index-Arrays" class="headerlink" title="Quiz: NumPy Index Arrays"></a>Quiz: NumPy Index Arrays</h2><p>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line"></div><div class="line"># Change False to True for each block of code to see what it does</div><div class="line"></div><div class="line"># Using index arrays</div><div class="line">if False:</div><div class="line">    a = np.array([1, 2, 3, 4])</div><div class="line">    b = np.array([True, True, False, False])</div><div class="line">    </div><div class="line">    print a[b]</div><div class="line">    print a[np.array([True, False, True, False])]</div><div class="line">    </div><div class="line"># Creating the index array using vectorized operations</div><div class="line">if False:</div><div class="line">    a = np.array([1, 2, 3, 2, 1])</div><div class="line">    b = (a &gt;= 2)</div><div class="line">    </div><div class="line">    print a[b]</div><div class="line">    print a[a &gt;= 2]</div><div class="line">    </div><div class="line"># Creating the index array using vectorized operations on another array</div><div class="line">if False:</div><div class="line">    a = np.array([1, 2, 3, 4, 5])</div><div class="line">    b = np.array([1, 2, 3, 2, 1])</div><div class="line">    </div><div class="line">    print b == 2</div><div class="line">    print a[b == 2]</div><div class="line"></div><div class="line">def mean_time_for_paid_students(time_spent, days_to_cancel):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to calculate the mean time spent in the classroom</div><div class="line">    for students who stayed enrolled at least (greater than or equal to) 7 days.</div><div class="line">    Unlike in Lesson 1, you can assume that days_to_cancel will contain only</div><div class="line">    integers (there are no students who have not canceled yet).</div><div class="line">    </div><div class="line">    The arguments are NumPy arrays. time_spent contains the amount of time spent</div><div class="line">    in the classroom for each student, and days_to_cancel contains the number</div><div class="line">    of days until each student cancel. The data is given in the same order</div><div class="line">    in both arrays.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return None</div><div class="line"></div><div class="line"># Time spent in the classroom in the first week for 20 students</div><div class="line">time_spent = np.array([</div><div class="line">       12.89697233,    0.        ,   64.55043217,    0.        ,</div><div class="line">       24.2315615 ,   39.991625  ,    0.        ,    0.        ,</div><div class="line">      147.20683783,    0.        ,    0.        ,    0.        ,</div><div class="line">       45.18261617,  157.60454283,  133.2434615 ,   52.85000767,</div><div class="line">        0.        ,   54.9204785 ,   26.78142417,    0.</div><div class="line">])</div><div class="line"></div><div class="line"># Days to cancel for 20 students</div><div class="line">days_to_cancel = np.array([</div><div class="line">      4,   5,  37,   3,  12,   4,  35,  38,   5,  37,   3,   3,  68,</div><div class="line">     38,  98,   2, 249,   2, 127,  35</div><div class="line">])</div></pre></td></tr></table></figure></p>
<p>sloution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">def mean_time_for_paid_students(time_spent, days_to_cancel):</div><div class="line">    return time_spent[days_to_cancel &gt;=7].mean()</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-vs"><a href="#Quiz-vs" class="headerlink" title="Quiz: + vs. +="></a>Quiz: + vs. +=</h2><p>notice<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line">a = np.array([1,2,3,4])</div><div class="line">b = a</div><div class="line">a += np.array([1,1,1,])</div><div class="line">print b</div></pre></td></tr></table></figure></p>
<p><code>array([2,3,4,5])</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line">a = np.array([1,2,3,4])</div><div class="line">b = a</div><div class="line">a = a + np.array([1,1,1,])</div><div class="line">print b</div></pre></td></tr></table></figure></p>
<p><code>array([1,2,3,4])</code></p>
<h2 id="Quiz-In-Place-vs-Not-In-Place"><a href="#Quiz-In-Place-vs-Not-In-Place" class="headerlink" title="Quiz: In-Place vs. Not In-Place"></a>Quiz: In-Place vs. Not In-Place</h2><p>notice<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line">a = np.array([1,2,3,4])</div><div class="line">slice = a[:3]</div><div class="line">slice[0] = 100</div><div class="line">print a</div></pre></td></tr></table></figure></p>
<p><code>array([100,2,3,4])</code></p>
<h2 id="Quiz-Pandas-Series"><a href="#Quiz-Pandas-Series" class="headerlink" title="Quiz: Pandas Series"></a>Quiz: Pandas Series</h2><p>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line">import pandas as pd</div><div class="line"></div><div class="line">countries = [&apos;Albania&apos;, &apos;Algeria&apos;, &apos;Andorra&apos;, &apos;Angola&apos;, &apos;Antigua and Barbuda&apos;,</div><div class="line">             &apos;Argentina&apos;, &apos;Armenia&apos;, &apos;Australia&apos;, &apos;Austria&apos;, &apos;Azerbaijan&apos;,</div><div class="line">             &apos;Bahamas&apos;, &apos;Bahrain&apos;, &apos;Bangladesh&apos;, &apos;Barbados&apos;, &apos;Belarus&apos;,</div><div class="line">             &apos;Belgium&apos;, &apos;Belize&apos;, &apos;Benin&apos;, &apos;Bhutan&apos;, &apos;Bolivia&apos;]</div><div class="line"></div><div class="line">life_expectancy_values = [74.7,  75. ,  83.4,  57.6,  74.6,  75.4,  72.3,  81.5,  80.2,</div><div class="line">                          70.3,  72.1,  76.4,  68.1,  75.2,  69.8,  79.4,  70.8,  62.7,</div><div class="line">                          67.3,  70.6]</div><div class="line"></div><div class="line">gdp_values = [ 1681.61390973,   2155.48523109,  21495.80508273,    562.98768478,</div><div class="line">              13495.1274663 ,   9388.68852258,   1424.19056199,  24765.54890176,</div><div class="line">              27036.48733192,   1945.63754911,  21721.61840978,  13373.21993972,</div><div class="line">                483.97086804,   9783.98417323,   2253.46411147,  25034.66692293,</div><div class="line">               3680.91642923,    366.04496652,   1175.92638695,   1132.21387981]</div><div class="line"></div><div class="line"># Life expectancy and gdp data in 2007 for 20 countries</div><div class="line">life_expectancy = pd.Series(life_expectancy_values)</div><div class="line">gdp = pd.Series(gdp_values)</div><div class="line"></div><div class="line"># Change False to True for each block of code to see what it does</div><div class="line"></div><div class="line"># Accessing elements and slicing</div><div class="line">if False:</div><div class="line">    print life_expectancy[0]</div><div class="line">    print gdp[3:6]</div><div class="line">    </div><div class="line"># Looping</div><div class="line">if False:</div><div class="line">    for country_life_expectancy in life_expectancy:</div><div class="line">        print &apos;Examining life expectancy &#123;&#125;&apos;.format(country_life_expectancy)</div><div class="line">        </div><div class="line"># Pandas functions</div><div class="line">if False:</div><div class="line">    print life_expectancy.mean()</div><div class="line">    print life_expectancy.std()</div><div class="line">    print gdp.max()</div><div class="line">    print gdp.sum()</div><div class="line"></div><div class="line"># Vectorized operations and index arrays</div><div class="line">if False:</div><div class="line">    a = pd.Series([1, 2, 3, 4])</div><div class="line">    b = pd.Series([1, 2, 1, 2])</div><div class="line">  </div><div class="line">    print a + b</div><div class="line">    print a * 2</div><div class="line">    print a &gt;= 3</div><div class="line">    print a[a &gt;= 3]</div><div class="line">   </div><div class="line">def variable_correlation(variable1, variable2):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to calculate the number of data points for which</div><div class="line">    the directions of variable1 and variable2 relative to the mean are the</div><div class="line">    same, and the number of data points for which they are different.</div><div class="line">    Direction here means whether each value is above or below its mean.</div><div class="line">    </div><div class="line">    You can classify cases where the value is equal to the mean for one or</div><div class="line">    both variables however you like.</div><div class="line">    </div><div class="line">    Each argument will be a Pandas series.</div><div class="line">    </div><div class="line">    For example, if the inputs were pd.Series([1, 2, 3, 4]) and</div><div class="line">    pd.Series([4, 5, 6, 7]), then the output would be (4, 0).</div><div class="line">    This is because 1 and 4 are both below their means, 2 and 5 are both</div><div class="line">    below, 3 and 6 are both above, and 4 and 7 are both above.</div><div class="line">    </div><div class="line">    On the other hand, if the inputs were pd.Series([1, 2, 3, 4]) and</div><div class="line">    pd.Series([7, 6, 5, 4]), then the output would be (0, 4).</div><div class="line">    This is because 1 is below its mean but 7 is above its mean, and</div><div class="line">    so on.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    num_same_direction = None        # Replace this with your code</div><div class="line">    num_different_direction = None   # Replace this with your code</div><div class="line">    </div><div class="line">    return (num_same_direction, num_different_direction)</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">def variable_correlation(variable1, variable2):</div><div class="line">    both_above = (variable1 &gt; variable1.mean()) &amp; \</div><div class="line">                 (variable2 &gt; variable2.mean())</div><div class="line">    both_below = (variable1 &lt; variable1.mean()) &amp; \</div><div class="line">                 (variable2 &lt; variable2.mean())</div><div class="line">    is_same_direction = both_above | both_below</div><div class="line">    num_same_direction = is_same_direction.sum()        # Replace this with your code</div><div class="line">    num_different_direction = len(variable1) - num_same_direction   # Replace this with your code</div><div class="line">    </div><div class="line">    return (num_same_direction, num_different_direction)</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-Series-Indexes"><a href="#Quiz-Series-Indexes" class="headerlink" title="Quiz: Series Indexes"></a>Quiz: Series Indexes</h2><p><code>s.describe()</code> <code>s.loc[INDEX]</code> <code>s.iloc[0]</code><br>Pandas idxmax()<br>Note: The <code>argmax()</code> function mentioned in the videos has been realiased to <code>idxmax()</code>, and returns the index of the first maximally-valued element. You can find documentation for the <code>idxmax()</code> function in Pandas <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.idxmax.html" target="_blank" rel="external">here</a>.<br>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">import pandas as pd</div><div class="line"></div><div class="line">countries = [</div><div class="line">    &apos;Afghanistan&apos;, &apos;Albania&apos;, &apos;Algeria&apos;, &apos;Angola&apos;,</div><div class="line">    &apos;Argentina&apos;, &apos;Armenia&apos;, &apos;Australia&apos;, &apos;Austria&apos;,</div><div class="line">    &apos;Azerbaijan&apos;, &apos;Bahamas&apos;, &apos;Bahrain&apos;, &apos;Bangladesh&apos;,</div><div class="line">    &apos;Barbados&apos;, &apos;Belarus&apos;, &apos;Belgium&apos;, &apos;Belize&apos;,</div><div class="line">    &apos;Benin&apos;, &apos;Bhutan&apos;, &apos;Bolivia&apos;, &apos;Bosnia and Herzegovina&apos;,</div><div class="line">]</div><div class="line"></div><div class="line"></div><div class="line">employment_values = [</div><div class="line">    55.70000076,  51.40000153,  50.5       ,  75.69999695,</div><div class="line">    58.40000153,  40.09999847,  61.5       ,  57.09999847,</div><div class="line">    60.90000153,  66.59999847,  60.40000153,  68.09999847,</div><div class="line">    66.90000153,  53.40000153,  48.59999847,  56.79999924,</div><div class="line">    71.59999847,  58.40000153,  70.40000153,  41.20000076,</div><div class="line">]</div><div class="line"></div><div class="line"># Employment data in 2007 for 20 countries</div><div class="line">employment = pd.Series(employment_values, index=countries)</div><div class="line"></div><div class="line">def max_employment(employment):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to return the name of the country</div><div class="line">    with the highest employment in the given employment</div><div class="line">    data, and the employment in that country.</div><div class="line">    </div><div class="line">    The input will be a Pandas series where the values</div><div class="line">    are employment and the index is country names.</div><div class="line">    </div><div class="line">    Try using the Pandas idxmax() function. Documention can</div><div class="line">    be found here:</div><div class="line">    http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.idxmax.html</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    max_country = None      # Replace this with your code</div><div class="line">    max_value = None   # Replace this with your code</div><div class="line"></div><div class="line">    return (max_country, max_value)</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">def max_employment(employment):</div><div class="line">    max_country = employment.idxmax()     # Replace this with your code</div><div class="line">    max_value = employment.loc[max_country]   # Replace this with your code</div><div class="line"></div><div class="line">    return (max_country, max_value)</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-Vectorized-Operations-and-Series-Indexes"><a href="#Quiz-Vectorized-Operations-and-Series-Indexes" class="headerlink" title="Quiz: Vectorized Operations and Series Indexes"></a>Quiz: Vectorized Operations and Series Indexes</h2><p>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">import pandas as pd</div><div class="line"></div><div class="line"># Change False to True for each block of code to see what it does</div><div class="line"></div><div class="line"># Addition when indexes are the same</div><div class="line">if False:</div><div class="line">    s1 = pd.Series([1, 2, 3, 4], index=[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;])</div><div class="line">    s2 = pd.Series([10, 20, 30, 40], index=[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;])</div><div class="line">    print s1 + s2</div><div class="line"></div><div class="line"># Indexes have same elements in a different order</div><div class="line">if False:</div><div class="line">    s1 = pd.Series([1, 2, 3, 4], index=[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;])</div><div class="line">    s2 = pd.Series([10, 20, 30, 40], index=[&apos;b&apos;, &apos;d&apos;, &apos;a&apos;, &apos;c&apos;])</div><div class="line">    print s1 + s2</div><div class="line"></div><div class="line"># Indexes overlap, but do not have exactly the same elements</div><div class="line">if False:</div><div class="line">    s1 = pd.Series([1, 2, 3, 4], index=[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;])</div><div class="line">    s2 = pd.Series([10, 20, 30, 40], index=[&apos;c&apos;, &apos;d&apos;, &apos;e&apos;, &apos;f&apos;])</div><div class="line">    print s1 + s2</div><div class="line"></div><div class="line"># Indexes do not overlap</div><div class="line">if False:</div><div class="line">    s1 = pd.Series([1, 2, 3, 4], index=[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;])</div><div class="line">    s2 = pd.Series([10, 20, 30, 40], index=[&apos;e&apos;, &apos;f&apos;, &apos;g&apos;, &apos;h&apos;])</div><div class="line">    print s1 + s2</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-Filling-Missing-Values"><a href="#Quiz-Filling-Missing-Values" class="headerlink" title="Quiz: Filling Missing Values"></a>Quiz: Filling Missing Values</h2><p>Remember that Jupyter notebooks will just print out the results of the last expression run in a code cell as though a print expression was run. If you want to save the results of your operations for later, remember to assign the results to a variable or, for some Pandas functions like <code>.dropna()</code>, use <code>inplace = True</code> to modify the starting object without needing to reassign it.<br>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">import pandas as pd</div><div class="line"></div><div class="line">s1 = pd.Series([1, 2, 3, 4], index=[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;])</div><div class="line">s2 = pd.Series([10, 20, 30, 40], index=[&apos;c&apos;, &apos;d&apos;, &apos;e&apos;, &apos;f&apos;])</div><div class="line"></div><div class="line"># Try to write code that will add the 2 previous series together,</div><div class="line"># but treating missing values from either series as 0. The result</div><div class="line"># when printed out should be similar to the following line:</div><div class="line"># print pd.Series([1, 2, 13, 24, 30, 40], index=[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;, &apos;e&apos;, &apos;f&apos;])</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">s1.add(s2, fill_value=0)</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-Pandas-Series-apply"><a href="#Quiz-Pandas-Series-apply" class="headerlink" title="Quiz: Pandas Series apply()"></a>Quiz: Pandas Series apply()</h2><p>Note: The grader will execute your finished <code>reverse_names(names)</code> function on some test <code>names</code> Series when you submit your answer. Make sure that this function returns another Series with the transformed names.</p>
<p>split()<br>You can find documentation for Python’s <code>split()</code> function <a href="https://docs.python.org/2/library/stdtypes.html#str.split" target="_blank" rel="external">here</a>.<br>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line">import pandas as pd</div><div class="line"></div><div class="line"># Change False to True to see what the following block of code does</div><div class="line"></div><div class="line"># Example pandas apply() usage (although this could have been done</div><div class="line"># without apply() using vectorized operations)</div><div class="line">if False:</div><div class="line">    s = pd.Series([1, 2, 3, 4, 5])</div><div class="line">    def add_one(x):</div><div class="line">        return x + 1</div><div class="line">    print s.apply(add_one)</div><div class="line"></div><div class="line">names = pd.Series([</div><div class="line">    &apos;Andre Agassi&apos;,</div><div class="line">    &apos;Barry Bonds&apos;,</div><div class="line">    &apos;Christopher Columbus&apos;,</div><div class="line">    &apos;Daniel Defoe&apos;,</div><div class="line">    &apos;Emilio Estevez&apos;,</div><div class="line">    &apos;Fred Flintstone&apos;,</div><div class="line">    &apos;Greta Garbo&apos;,</div><div class="line">    &apos;Humbert Humbert&apos;,</div><div class="line">    &apos;Ivan Ilych&apos;,</div><div class="line">    &apos;James Joyce&apos;,</div><div class="line">    &apos;Keira Knightley&apos;,</div><div class="line">    &apos;Lois Lane&apos;,</div><div class="line">    &apos;Mike Myers&apos;,</div><div class="line">    &apos;Nick Nolte&apos;,</div><div class="line">    &apos;Ozzy Osbourne&apos;,</div><div class="line">    &apos;Pablo Picasso&apos;,</div><div class="line">    &apos;Quirinus Quirrell&apos;,</div><div class="line">    &apos;Rachael Ray&apos;,</div><div class="line">    &apos;Susan Sarandon&apos;,</div><div class="line">    &apos;Tina Turner&apos;,</div><div class="line">    &apos;Ugueth Urbina&apos;,</div><div class="line">    &apos;Vince Vaughn&apos;,</div><div class="line">    &apos;Woodrow Wilson&apos;,</div><div class="line">    &apos;Yoji Yamada&apos;,</div><div class="line">    &apos;Zinedine Zidane&apos;</div><div class="line">])</div><div class="line"></div><div class="line">def reverse_names(names):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to return a new series where each name</div><div class="line">    in the input series has been transformed from the format</div><div class="line">    &quot;Firstname Lastname&quot; to &quot;Lastname, FirstName&quot;.</div><div class="line">    </div><div class="line">    Try to use the Pandas apply() function rather than a loop.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return None</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">def reverse_name(name):</div><div class="line">    name = name.split(&quot; &quot;)</div><div class="line">    print &quot;name: &quot;</div><div class="line">    print name</div><div class="line">    first_name = name[1]</div><div class="line">    last_name = name[0]</div><div class="line">    return first_name + &apos;, &apos; + last_name</div><div class="line"></div><div class="line">print &quot;reverse_name: &quot;</div><div class="line">print reverse_name(names.iloc[0])</div><div class="line"></div><div class="line">def reverse_names(names):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to return a new series where each name</div><div class="line">    in the input series has been transformed from the format</div><div class="line">    &quot;Firstname Lastname&quot; to &quot;Lastname, FirstName&quot;.</div><div class="line">    </div><div class="line">    Try to use the Pandas apply() function rather than a loop.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return names.apply(reverse_name)</div><div class="line">print &quot;reverse: &quot;</div><div class="line">reverse_names(names)</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-Plotting-in-Pandas"><a href="#Quiz-Plotting-in-Pandas" class="headerlink" title="Quiz: Plotting in Pandas"></a>Quiz: Plotting in Pandas</h2><p>If the variable <code>data</code> is a NumPy array or a Pandas Series, just like if it is a list, the code<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">import matplotlib.pyplot as plt</div><div class="line">plt.hist(data)</div></pre></td></tr></table></figure></p>
<p>will create a histogram of the data.</p>
<p>Pandas also has built-in plotting that uses matplotlib behind the scenes, so if <code>data</code> is a Series, you can create a histogram using <code>data.hist()</code>.</p>
<p>There’s no difference between these two in this case, but sometimes the Pandas wrapper can be more convenient. For example, you can make a line plot of a series using <code>data.plot()</code>. The index of the Series will be used for the x-axis and the values for the y-axis.</p>
<p>In the following quiz, we’ve created Series containing the various variables we’ve been looking at this lesson. Pick a country you’re interested in, and make a plot of each variable over time.</p>
<p>The Udacity editor will only show one plot each time you click “Test Run”, so you can look at multiple plots by clicking “Test Run” multiple times. If you’re running plotting code locally, you may need to add the line <code>plt.show()</code> depending on your setup.<br>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">import pandas as pd</div><div class="line">import seaborn as sns</div><div class="line"></div><div class="line"># The following code reads all the Gapminder data into Pandas DataFrames. You&apos;ll</div><div class="line"># learn about DataFrames next lesson.</div><div class="line"></div><div class="line">path = &apos;/datasets/ud170/gapminder/&apos;</div><div class="line">employment = pd.read_csv(path + &apos;employment_above_15.csv&apos;, index_col=&apos;Country&apos;)</div><div class="line">female_completion = pd.read_csv(path + &apos;female_completion_rate.csv&apos;, index_col=&apos;Country&apos;)</div><div class="line">male_completion = pd.read_csv(path + &apos;male_completion_rate.csv&apos;, index_col=&apos;Country&apos;)</div><div class="line">life_expectancy = pd.read_csv(path + &apos;life_expectancy.csv&apos;, index_col=&apos;Country&apos;)</div><div class="line">gdp = pd.read_csv(path + &apos;gdp_per_capita.csv&apos;, index_col=&apos;Country&apos;)</div><div class="line"></div><div class="line"># The following code creates a Pandas Series for each variable for the United States.</div><div class="line"># You can change the string &apos;United States&apos; to a country of your choice.</div><div class="line"></div><div class="line">employment_us = employment.loc[&apos;United States&apos;]</div><div class="line">female_completion_us = female_completion.loc[&apos;United States&apos;]</div><div class="line">male_completion_us = male_completion.loc[&apos;United States&apos;]</div><div class="line">life_expectancy_us = life_expectancy.loc[&apos;United States&apos;]</div><div class="line">gdp_us = gdp.loc[&apos;United States&apos;]</div><div class="line"></div><div class="line"># Uncomment the following line of code to see the available country names</div><div class="line"># print employment.index.values</div><div class="line"></div><div class="line"># Use the Series defined above to create a plot of each variable over time for</div><div class="line"># the country of your choice. You will only be able to display one plot at a time</div><div class="line"># with each &quot;Test Run&quot;.</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># employment_us.plot()</div><div class="line"># female_completion_us.plot()</div><div class="line"># male_completion_us.plot()</div><div class="line"># life_expectancy_us.plot()</div><div class="line">gdp_us.plot()</div></pre></td></tr></table></figure></p>
<h2 id="Conclusion-1"><a href="#Conclusion-1" class="headerlink" title="Conclusion"></a>Conclusion</h2><h1 id="Numpy-and-Pandas-for-2D-Data"><a href="#Numpy-and-Pandas-for-2D-Data" class="headerlink" title="Numpy and Pandas for 2D Data"></a>Numpy and Pandas for 2D Data</h1><h2 id="Introduction-1"><a href="#Introduction-1" class="headerlink" title="Introduction"></a>Introduction</h2><h2 id="Quiz-Subway-Data"><a href="#Quiz-Subway-Data" class="headerlink" title="Quiz: Subway Data"></a>Quiz: Subway Data</h2><h2 id="Quiz-Two-Dimensional-NumPy-Arrays"><a href="#Quiz-Two-Dimensional-NumPy-Arrays" class="headerlink" title="Quiz: Two-Dimensional NumPy Arrays"></a>Quiz: Two-Dimensional NumPy Arrays</h2><p>python: list of lists<br>numpy: 2D array<br>pandas: DataFrame<br><a href="http://docs.scipy.org/doc/numpy/reference/arrays.ndarray.html#internal-memory-layout-of-an-ndarray" target="_blank" rel="external">This page</a> describes the memory layout of 2D NumPy arrays.<br>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line"></div><div class="line"># Subway ridership for 5 stations on 10 different days</div><div class="line">ridership = np.array([</div><div class="line">    [   0,    0,    2,    5,    0],</div><div class="line">    [1478, 3877, 3674, 2328, 2539],</div><div class="line">    [1613, 4088, 3991, 6461, 2691],</div><div class="line">    [1560, 3392, 3826, 4787, 2613],</div><div class="line">    [1608, 4802, 3932, 4477, 2705],</div><div class="line">    [1576, 3933, 3909, 4979, 2685],</div><div class="line">    [  95,  229,  255,  496,  201],</div><div class="line">    [   2,    0,    1,   27,    0],</div><div class="line">    [1438, 3785, 3589, 4174, 2215],</div><div class="line">    [1342, 4043, 4009, 4665, 3033]</div><div class="line">])</div><div class="line"></div><div class="line"># Change False to True for each block of code to see what it does</div><div class="line"></div><div class="line"># Accessing elements</div><div class="line">if False:</div><div class="line">    print ridership[1, 3]</div><div class="line">    print ridership[1:3, 3:5]</div><div class="line">    print ridership[1, :]</div><div class="line">    </div><div class="line"># Vectorized operations on rows or columns</div><div class="line">if False:</div><div class="line">    print ridership[0, :] + ridership[1, :]</div><div class="line">    print ridership[:, 0] + ridership[:, 1]</div><div class="line">    </div><div class="line"># Vectorized operations on entire arrays</div><div class="line">if False:</div><div class="line">    a = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])</div><div class="line">    b = np.array([[1, 1, 1], [2, 2, 2], [3, 3, 3]])</div><div class="line">    print a + b</div><div class="line"></div><div class="line">def mean_riders_for_max_station(ridership):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to find the station with the maximum riders on the</div><div class="line">    first day, then return the mean riders per day for that station. Also</div><div class="line">    return the mean ridership overall for comparsion.</div><div class="line">    </div><div class="line">    Hint: NumPy&apos;s argmax() function might be useful:</div><div class="line">    http://docs.scipy.org/doc/numpy/reference/generated/numpy.argmax.html</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    overall_mean = None # Replace this with your code</div><div class="line">    mean_for_max = None # Replace this with your code</div><div class="line">    </div><div class="line">    return (overall_mean, mean_for_max)</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">def mean_riders_for_max_station(ridership):</div><div class="line">    overall_mean = ridership.mean() # Replace this with your code</div><div class="line">    </div><div class="line">    station = ridership[0,:].argmax()</div><div class="line">    </div><div class="line">    mean_for_max = ridership[:,station].mean() # Replace this with your code</div><div class="line">    </div><div class="line">    return (overall_mean, mean_for_max)</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-NumPy-Axis"><a href="#Quiz-NumPy-Axis" class="headerlink" title="Quiz: NumPy Axis"></a>Quiz: NumPy Axis</h2><p>axis = 0 column<br>1 row<br>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line"></div><div class="line"># Change False to True for this block of code to see what it does</div><div class="line"></div><div class="line"># NumPy axis argument</div><div class="line">if False:</div><div class="line">    a = np.array([</div><div class="line">        [1, 2, 3],</div><div class="line">        [4, 5, 6],</div><div class="line">        [7, 8, 9]</div><div class="line">    ])</div><div class="line">    </div><div class="line">    print a.sum()</div><div class="line">    print a.sum(axis=0)</div><div class="line">    print a.sum(axis=1)</div><div class="line">    </div><div class="line"># Subway ridership for 5 stations on 10 different days</div><div class="line">ridership = np.array([</div><div class="line">    [   0,    0,    2,    5,    0],</div><div class="line">    [1478, 3877, 3674, 2328, 2539],</div><div class="line">    [1613, 4088, 3991, 6461, 2691],</div><div class="line">    [1560, 3392, 3826, 4787, 2613],</div><div class="line">    [1608, 4802, 3932, 4477, 2705],</div><div class="line">    [1576, 3933, 3909, 4979, 2685],</div><div class="line">    [  95,  229,  255,  496,  201],</div><div class="line">    [   2,    0,    1,   27,    0],</div><div class="line">    [1438, 3785, 3589, 4174, 2215],</div><div class="line">    [1342, 4043, 4009, 4665, 3033]</div><div class="line">])</div><div class="line"></div><div class="line">def min_and_max_riders_per_day(ridership):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function. First, for each subway station, calculate the</div><div class="line">    mean ridership per day. Then, out of all the subway stations, return the</div><div class="line">    maximum and minimum of these values. That is, find the maximum</div><div class="line">    mean-ridership-per-day and the minimum mean-ridership-per-day for any</div><div class="line">    subway station.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    max_daily_ridership = None     # Replace this with your code</div><div class="line">    min_daily_ridership = None     # Replace this with your code</div><div class="line">    </div><div class="line">    return (max_daily_ridership, min_daily_ridership)</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">def min_and_max_riders_per_day(ridership):</div><div class="line">    max_daily_ridership = ridership.mean(axis=0).max()     # Replace this with your code</div><div class="line">    min_daily_ridership = ridership.mean(axis=0).min()     # Replace this with your code</div><div class="line">    </div><div class="line">    return (max_daily_ridership, min_daily_ridership)</div></pre></td></tr></table></figure></p>
<h2 id="NumPy-and-Pandas-Data-types"><a href="#NumPy-and-Pandas-Data-types" class="headerlink" title="NumPy and Pandas Data types"></a>NumPy and Pandas Data types</h2><h2 id="Quiz-Accessing-Elements-of-a-DataFrame"><a href="#Quiz-Accessing-Elements-of-a-DataFrame" class="headerlink" title="Quiz: Accessing Elements of a DataFrame"></a>Quiz: Accessing Elements of a DataFrame</h2><p>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line">import pandas as pd</div><div class="line"></div><div class="line"># Subway ridership for 5 stations on 10 different days</div><div class="line">ridership_df = pd.DataFrame(</div><div class="line">    data=[[   0,    0,    2,    5,    0],</div><div class="line">          [1478, 3877, 3674, 2328, 2539],</div><div class="line">          [1613, 4088, 3991, 6461, 2691],</div><div class="line">          [1560, 3392, 3826, 4787, 2613],</div><div class="line">          [1608, 4802, 3932, 4477, 2705],</div><div class="line">          [1576, 3933, 3909, 4979, 2685],</div><div class="line">          [  95,  229,  255,  496,  201],</div><div class="line">          [   2,    0,    1,   27,    0],</div><div class="line">          [1438, 3785, 3589, 4174, 2215],</div><div class="line">          [1342, 4043, 4009, 4665, 3033]],</div><div class="line">    index=[&apos;05-01-11&apos;, &apos;05-02-11&apos;, &apos;05-03-11&apos;, &apos;05-04-11&apos;, &apos;05-05-11&apos;,</div><div class="line">           &apos;05-06-11&apos;, &apos;05-07-11&apos;, &apos;05-08-11&apos;, &apos;05-09-11&apos;, &apos;05-10-11&apos;],</div><div class="line">    columns=[&apos;R003&apos;, &apos;R004&apos;, &apos;R005&apos;, &apos;R006&apos;, &apos;R007&apos;]</div><div class="line">)</div><div class="line"></div><div class="line"># Change False to True for each block of code to see what it does</div><div class="line"></div><div class="line"># DataFrame creation</div><div class="line">if False:</div><div class="line">    # You can create a DataFrame out of a dictionary mapping column names to values</div><div class="line">    df_1 = pd.DataFrame(&#123;&apos;A&apos;: [0, 1, 2], &apos;B&apos;: [3, 4, 5]&#125;)</div><div class="line">    print df_1</div><div class="line"></div><div class="line">    # You can also use a list of lists or a 2D NumPy array</div><div class="line">    df_2 = pd.DataFrame([[0, 1, 2], [3, 4, 5]], columns=[&apos;A&apos;, &apos;B&apos;, &apos;C&apos;])</div><div class="line">    print df_2</div><div class="line">   </div><div class="line"></div><div class="line"># Accessing elements</div><div class="line">if False:</div><div class="line">    print ridership_df.iloc[0]</div><div class="line">    print ridership_df.loc[&apos;05-05-11&apos;]</div><div class="line">    print ridership_df[&apos;R003&apos;]</div><div class="line">    print ridership_df.iloc[1, 3]</div><div class="line">    </div><div class="line"># Accessing multiple rows</div><div class="line">if False:</div><div class="line">    print ridership_df.iloc[1:4]</div><div class="line">    </div><div class="line"># Accessing multiple columns</div><div class="line">if False:</div><div class="line">    print ridership_df[[&apos;R003&apos;, &apos;R005&apos;]]</div><div class="line">    </div><div class="line"># Pandas axis</div><div class="line">if False:</div><div class="line">    df = pd.DataFrame(&#123;&apos;A&apos;: [0, 1, 2], &apos;B&apos;: [3, 4, 5]&#125;)</div><div class="line">    print df.sum()</div><div class="line">    print df.sum(axis=1)</div><div class="line">    print df.values.sum()</div><div class="line">    </div><div class="line">def mean_riders_for_max_station(ridership):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to find the station with the maximum riders on the</div><div class="line">    first day, then return the mean riders per day for that station. Also</div><div class="line">    return the mean ridership overall for comparsion.</div><div class="line">    </div><div class="line">    This is the same as a previous exercise, but this time the</div><div class="line">    input is a Pandas DataFrame rather than a 2D NumPy array.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    overall_mean = None # Replace this with your code</div><div class="line">    mean_for_max = None # Replace this with your code</div><div class="line">    </div><div class="line">    return (overall_mean, mean_for_max)</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">def mean_riders_for_max_station(ridership):</div><div class="line">    station = ridership.iloc[0].argmax()</div><div class="line">    overall_mean = ridership.values.mean() # Replace this with your code</div><div class="line">    mean_for_max = ridership[station].mean() # Replace this with your code</div><div class="line">    </div><div class="line">    return (overall_mean, mean_for_max)</div></pre></td></tr></table></figure></p>
<h2 id="Loading-Data-into-a-DataFrame"><a href="#Loading-Data-into-a-DataFrame" class="headerlink" title="Loading Data into a DataFrame"></a>Loading Data into a DataFrame</h2><h2 id="Quiz-Calculating-Correlation"><a href="#Quiz-Calculating-Correlation" class="headerlink" title="Quiz: Calculating Correlation"></a>Quiz: Calculating Correlation</h2><h3 id="Understand-and-Interpreting-Correlations"><a href="#Understand-and-Interpreting-Correlations" class="headerlink" title="Understand and Interpreting Correlations"></a>Understand and Interpreting Correlations</h3><p><a href="http://onlinestatbook.com/2/describing_bivariate_data/pearson.html" target="_blank" rel="external">This page</a> contains some scatterplots of variables with different values of correlation.<br><a href="http://rpsychologist.com/d3/correlation/" target="_blank" rel="external">This page</a> lets you use a slider to change the correlation and see how the data might look.<br>Pearson’s r only measures linear correlation! <a href="https://en.wikipedia.org/wiki/Correlation_and_dependence#/media/File:Correlation_examples2.svg" target="_blank" rel="external">This image</a> shows some different linear and non-linear relationships and what Pearson’s r will be for those relationships.</p>
<h3 id="Corrected-vs-Uncorrected-Standard-Deviation"><a href="#Corrected-vs-Uncorrected-Standard-Deviation" class="headerlink" title="Corrected vs. Uncorrected Standard Deviation"></a>Corrected vs. Uncorrected Standard Deviation</h3><p>By default, Pandas’ <code>std()</code> function computes the standard deviation using <a href="https://en.wikipedia.org/wiki/Bessel%27s_correction" target="_blank" rel="external">Bessel’s correction</a>. Calling <code>std(ddof=0)</code> ensures that Bessel’s correction will not be used.</p>
<h3 id="Previous-Exercise"><a href="#Previous-Exercise" class="headerlink" title="Previous Exercise"></a>Previous Exercise</h3><p>The exercise where you used a simple heuristic to estimate correlation was the “Pandas Series” exercise in the previous lesson, “NumPy and Pandas for 1D Data”.</p>
<h3 id="Pearson’s-r-in-NumPy"><a href="#Pearson’s-r-in-NumPy" class="headerlink" title="Pearson’s r in NumPy"></a>Pearson’s r in NumPy</h3><p>NumPy’s <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.corrcoef.html" target="_blank" rel="external">corrcoef() function</a> can be used to calculate Pearson’s r, also known as the correlation coefficient.<br>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">import pandas as pd</div><div class="line"></div><div class="line">filename = &apos;/datasets/ud170/subway/nyc_subway_weather.csv&apos;</div><div class="line">subway_df = pd.read_csv(filename)</div><div class="line"></div><div class="line">def correlation(x, y):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to compute the correlation between the two</div><div class="line">    input variables. Each input is either a NumPy array or a Pandas</div><div class="line">    Series.</div><div class="line">    </div><div class="line">    correlation = average of (x in standard units) times (y in standard units)</div><div class="line">    </div><div class="line">    Remember to pass the argument &quot;ddof=0&quot; to the Pandas std() function!</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return None</div><div class="line"></div><div class="line">entries = subway_df[&apos;ENTRIESn_hourly&apos;]</div><div class="line">cum_entries = subway_df[&apos;ENTRIESn&apos;]</div><div class="line">rain = subway_df[&apos;meanprecipi&apos;]</div><div class="line">temp = subway_df[&apos;meantempi&apos;]</div><div class="line"></div><div class="line">print correlation(entries, rain)</div><div class="line">print correlation(entries, temp)</div><div class="line">print correlation(rain, temp)</div><div class="line"></div><div class="line">print correlation(entries, cum_entries)</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">def correlation(x, y):</div><div class="line">    std_x = (x - x.mean()) / x.std(ddof=0)</div><div class="line">    std_y = (y - y.mean()) / y.std(ddof=0)</div><div class="line">    return ( std_x * std_y ).mean()</div></pre></td></tr></table></figure></p>
<h2 id="Pandas-Axis-Names"><a href="#Pandas-Axis-Names" class="headerlink" title="Pandas Axis Names"></a>Pandas Axis Names</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">axis=0 axis=1</div><div class="line">axis=&apos;index&apos; axis=&apos;columns&apos;</div></pre></td></tr></table></figure>
<h2 id="Quiz-DataFrame-Vectorized-Operations"><a href="#Quiz-DataFrame-Vectorized-Operations" class="headerlink" title="Quiz: DataFrame Vectorized Operations"></a>Quiz: DataFrame Vectorized Operations</h2><h3 id="Pandas-shift"><a href="#Pandas-shift" class="headerlink" title="Pandas shift()"></a>Pandas shift()</h3><p>Documentation for the Pandas shift() function is <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.shift.html" target="_blank" rel="external">here</a>. If you’re still not sure how the function works, try it out and see!</p>
<h3 id="Alternative-Solution"><a href="#Alternative-Solution" class="headerlink" title="Alternative Solution"></a>Alternative Solution</h3><p>As an alternative to using vectorized operations, you could also use the code <code>return entries_and_exits.diff()</code> to calculate the answer in a single step.<br>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">import pandas as pd</div><div class="line"></div><div class="line"># Examples of vectorized operations on DataFrames:</div><div class="line"># Change False to True for each block of code to see what it does</div><div class="line"></div><div class="line"># Adding DataFrames with the column names</div><div class="line">if False:</div><div class="line">    df1 = pd.DataFrame(&#123;&apos;a&apos;: [1, 2, 3], &apos;b&apos;: [4, 5, 6], &apos;c&apos;: [7, 8, 9]&#125;)</div><div class="line">    df2 = pd.DataFrame(&#123;&apos;a&apos;: [10, 20, 30], &apos;b&apos;: [40, 50, 60], &apos;c&apos;: [70, 80, 90]&#125;)</div><div class="line">    print df1 + df2</div><div class="line">    </div><div class="line"># Adding DataFrames with overlapping column names </div><div class="line">if False:</div><div class="line">    df1 = pd.DataFrame(&#123;&apos;a&apos;: [1, 2, 3], &apos;b&apos;: [4, 5, 6], &apos;c&apos;: [7, 8, 9]&#125;)</div><div class="line">    df2 = pd.DataFrame(&#123;&apos;d&apos;: [10, 20, 30], &apos;c&apos;: [40, 50, 60], &apos;b&apos;: [70, 80, 90]&#125;)</div><div class="line">    print df1 + df2</div><div class="line"></div><div class="line"># Adding DataFrames with overlapping row indexes</div><div class="line">if False:</div><div class="line">    df1 = pd.DataFrame(&#123;&apos;a&apos;: [1, 2, 3], &apos;b&apos;: [4, 5, 6], &apos;c&apos;: [7, 8, 9]&#125;,</div><div class="line">                       index=[&apos;row1&apos;, &apos;row2&apos;, &apos;row3&apos;])</div><div class="line">    df2 = pd.DataFrame(&#123;&apos;a&apos;: [10, 20, 30], &apos;b&apos;: [40, 50, 60], &apos;c&apos;: [70, 80, 90]&#125;,</div><div class="line">                       index=[&apos;row4&apos;, &apos;row3&apos;, &apos;row2&apos;])</div><div class="line">    print df1 + df2</div><div class="line"></div><div class="line"># --- Quiz ---</div><div class="line"># Cumulative entries and exits for one station for a few hours.</div><div class="line">entries_and_exits = pd.DataFrame(&#123;</div><div class="line">    &apos;ENTRIESn&apos;: [3144312, 3144335, 3144353, 3144424, 3144594,</div><div class="line">                 3144808, 3144895, 3144905, 3144941, 3145094],</div><div class="line">    &apos;EXITSn&apos;: [1088151, 1088159, 1088177, 1088231, 1088275,</div><div class="line">               1088317, 1088328, 1088331, 1088420, 1088753]</div><div class="line">&#125;)</div><div class="line"></div><div class="line">def get_hourly_entries_and_exits(entries_and_exits):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to take a DataFrame with cumulative entries</div><div class="line">    and exits (entries in the first column, exits in the second) and</div><div class="line">    return a DataFrame with hourly entries and exits (entries in the</div><div class="line">    first column, exits in the second).</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return None</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">def get_hourly_entries_and_exits(entries_and_exits):</div><div class="line">    return entries_and_exits - entries_and_exits.shift(1)</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-DataFrame-applymap"><a href="#Quiz-DataFrame-applymap" class="headerlink" title="Quiz: DataFrame applymap()"></a>Quiz: DataFrame applymap()</h2><p>Note: The grader will execute your finished <code>convert_grades(grades)</code> function on some test <code>grades</code> DataFrames when you submit your answer. Make sure that this function returns a DataFrame with the converted grades. ​Hint​: You may need to define a helper function to use with <code>.applymap()</code>.<br>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">import pandas as pd</div><div class="line"></div><div class="line"># Change False to True for this block of code to see what it does</div><div class="line"></div><div class="line"># DataFrame applymap()</div><div class="line">if False:</div><div class="line">    df = pd.DataFrame(&#123;</div><div class="line">        &apos;a&apos;: [1, 2, 3],</div><div class="line">        &apos;b&apos;: [10, 20, 30],</div><div class="line">        &apos;c&apos;: [5, 10, 15]</div><div class="line">    &#125;)</div><div class="line">    </div><div class="line">    def add_one(x):</div><div class="line">        return x + 1</div><div class="line">        </div><div class="line">    print df.applymap(add_one)</div><div class="line">    </div><div class="line">grades_df = pd.DataFrame(</div><div class="line">    data=&#123;&apos;exam1&apos;: [43, 81, 78, 75, 89, 70, 91, 65, 98, 87],</div><div class="line">          &apos;exam2&apos;: [24, 63, 56, 56, 67, 51, 79, 46, 72, 60]&#125;,</div><div class="line">    index=[&apos;Andre&apos;, &apos;Barry&apos;, &apos;Chris&apos;, &apos;Dan&apos;, &apos;Emilio&apos;, </div><div class="line">           &apos;Fred&apos;, &apos;Greta&apos;, &apos;Humbert&apos;, &apos;Ivan&apos;, &apos;James&apos;]</div><div class="line">)</div><div class="line">    </div><div class="line">def convert_grades(grades):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to convert the given DataFrame of numerical</div><div class="line">    grades to letter grades. Return a new DataFrame with the converted</div><div class="line">    grade.</div><div class="line">    </div><div class="line">    The conversion rule is:</div><div class="line">        90-100 -&gt; A</div><div class="line">        80-89  -&gt; B</div><div class="line">        70-79  -&gt; C</div><div class="line">        60-69  -&gt; D</div><div class="line">        0-59   -&gt; F</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return None</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">def convert(grades):</div><div class="line">    if (grades &gt;= 90) &amp; (grades &lt;= 100):</div><div class="line">        grades = &apos;A&apos;</div><div class="line">    elif (grades &gt;= 80) &amp; (grades &lt;= 89):</div><div class="line">        grades = &apos;B&apos;</div><div class="line">    elif (grades &gt;= 70) &amp; (grades &lt;= 79):</div><div class="line">        grades = &apos;C&apos;</div><div class="line">    elif (grades &gt;= 60) &amp; (grades &lt;= 69):</div><div class="line">        grades = &apos;D&apos;</div><div class="line">    else:</div><div class="line">        grades = &apos;F&apos;</div><div class="line">    return grades</div><div class="line">    </div><div class="line">def convert_grades(grades):</div><div class="line">    return grades.applymap(convert)</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-DataFrame-apply"><a href="#Quiz-DataFrame-apply" class="headerlink" title="Quiz: DataFrame apply()"></a>Quiz: DataFrame apply()</h2><p>Note: In order to get the proper computations, we should actually be setting the value of the “ddof” parameter to 0 in the <code>.std()</code> function.</p>
<p>Note that the type of standard deviation calculated by default is different between numpy’s <code>.std()</code> and pandas’ <code>.std()</code> functions. By default, numpy calculates a population standard deviation, with “ddof = 0”. On the other hand, pandas calculates a sample standard deviation, with “ddof = 1”. If we know all of the scores, then we have a population - so to standardize using pandas, we need to set “ddof = 0”.<br><code>.apply()</code> used to convert columns(default) to columns and convert rows(with axis) to rows<br><code>.applymap()</code> used to elements<br>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">import pandas as pd</div><div class="line"></div><div class="line">grades_df = pd.DataFrame(</div><div class="line">    data=&#123;&apos;exam1&apos;: [43, 81, 78, 75, 89, 70, 91, 65, 98, 87],</div><div class="line">          &apos;exam2&apos;: [24, 63, 56, 56, 67, 51, 79, 46, 72, 60]&#125;,</div><div class="line">    index=[&apos;Andre&apos;, &apos;Barry&apos;, &apos;Chris&apos;, &apos;Dan&apos;, &apos;Emilio&apos;, </div><div class="line">           &apos;Fred&apos;, &apos;Greta&apos;, &apos;Humbert&apos;, &apos;Ivan&apos;, &apos;James&apos;]</div><div class="line">)</div><div class="line"></div><div class="line"># Change False to True for this block of code to see what it does</div><div class="line"></div><div class="line"># DataFrame apply()</div><div class="line">if False:</div><div class="line">    def convert_grades_curve(exam_grades):</div><div class="line">        # Pandas has a bult-in function that will perform this calculation</div><div class="line">        # This will give the bottom 0% to 10% of students the grade &apos;F&apos;,</div><div class="line">        # 10% to 20% the grade &apos;D&apos;, and so on. You can read more about</div><div class="line">        # the qcut() function here:</div><div class="line">        # http://pandas.pydata.org/pandas-docs/stable/generated/pandas.qcut.html</div><div class="line">        return pd.qcut(exam_grades,</div><div class="line">                       [0, 0.1, 0.2, 0.5, 0.8, 1],</div><div class="line">                       labels=[&apos;F&apos;, &apos;D&apos;, &apos;C&apos;, &apos;B&apos;, &apos;A&apos;])</div><div class="line">        </div><div class="line">    # qcut() operates on a list, array, or Series. This is the</div><div class="line">    # result of running the function on a single column of the</div><div class="line">    # DataFrame.</div><div class="line">    print convert_grades_curve(grades_df[&apos;exam1&apos;])</div><div class="line">    </div><div class="line">    # qcut() does not work on DataFrames, but we can use apply()</div><div class="line">    # to call the function on each column separately</div><div class="line">    print grades_df.apply(convert_grades_curve)</div><div class="line">    </div><div class="line">def standardize(df):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to standardize each column of the given</div><div class="line">    DataFrame. To standardize a variable, convert each value to the</div><div class="line">    number of standard deviations it is above or below the mean.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return None</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">def std_col(col):</div><div class="line">    return (col - col.mean()) / col.std(ddof=0)</div><div class="line">    </div><div class="line">def standardize(df):</div><div class="line">    return df.apply(std_col)</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-DataFrame-apply-Use-Case-2"><a href="#Quiz-DataFrame-apply-Use-Case-2" class="headerlink" title="Quiz: DataFrame apply() Use Case 2"></a>Quiz: DataFrame apply() Use Case 2</h2><p><code>.apply()</code> convert columns to element<br><code>df.apply(np.max):=df.max()</code><br>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line">import pandas as pd</div><div class="line"></div><div class="line">df = pd.DataFrame(&#123;</div><div class="line">    &apos;a&apos;: [4, 5, 3, 1, 2],</div><div class="line">    &apos;b&apos;: [20, 10, 40, 50, 30],</div><div class="line">    &apos;c&apos;: [25, 20, 5, 15, 10]</div><div class="line">&#125;)</div><div class="line"></div><div class="line"># Change False to True for this block of code to see what it does</div><div class="line"></div><div class="line"># DataFrame apply() - use case 2</div><div class="line">if False:   </div><div class="line">    print df.apply(np.mean)</div><div class="line">    print df.apply(np.max)</div><div class="line">    </div><div class="line">def second_largest(df):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to return the second-largest value of each </div><div class="line">    column of the input DataFrame.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return None</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">def second_max(col):</div><div class="line">    sorted_col = col.sort_values(ascending=False)</div><div class="line">    return sorted_col.iloc[1]</div><div class="line">    </div><div class="line">def second_largest(df):</div><div class="line">    return df.apply(second_max)</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-Adding-a-DataFrame-to-a-Series"><a href="#Quiz-Adding-a-DataFrame-to-a-Series" class="headerlink" title="Quiz: Adding a DataFrame to a Series"></a>Quiz: Adding a DataFrame to a Series</h2><p>code<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line">import pandas as pd</div><div class="line"></div><div class="line"># Change False to True for each block of code to see what it does</div><div class="line"></div><div class="line"># Adding a Series to a square DataFrame</div><div class="line">if False:</div><div class="line">    s = pd.Series([1, 2, 3, 4])</div><div class="line">    df = pd.DataFrame(&#123;</div><div class="line">        0: [10, 20, 30, 40],</div><div class="line">        1: [50, 60, 70, 80],</div><div class="line">        2: [90, 100, 110, 120],</div><div class="line">        3: [130, 140, 150, 160]</div><div class="line">    &#125;)</div><div class="line">    </div><div class="line">    print df</div><div class="line">    print &apos;&apos; # Create a blank line between outputs</div><div class="line">    print df + s</div><div class="line">    </div><div class="line"># Adding a Series to a one-row DataFrame </div><div class="line">if False:</div><div class="line">    s = pd.Series([1, 2, 3, 4])</div><div class="line">    df = pd.DataFrame(&#123;0: [10], 1: [20], 2: [30], 3: [40]&#125;)</div><div class="line">    </div><div class="line">    print df</div><div class="line">    print &apos;&apos; # Create a blank line between outputs</div><div class="line">    print df + s</div><div class="line"></div><div class="line"># Adding a Series to a one-column DataFrame</div><div class="line">if False:</div><div class="line">    s = pd.Series([1, 2, 3, 4])</div><div class="line">    df = pd.DataFrame(&#123;0: [10, 20, 30, 40]&#125;)</div><div class="line">    </div><div class="line">    print df</div><div class="line">    print &apos;&apos; # Create a blank line between outputs</div><div class="line">    print df + s</div><div class="line">    </div><div class="line"></div><div class="line">    </div><div class="line"># Adding when DataFrame column names match Series index</div><div class="line">if False:</div><div class="line">    s = pd.Series([1, 2, 3, 4], index=[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;])</div><div class="line">    df = pd.DataFrame(&#123;</div><div class="line">        &apos;a&apos;: [10, 20, 30, 40],</div><div class="line">        &apos;b&apos;: [50, 60, 70, 80],</div><div class="line">        &apos;c&apos;: [90, 100, 110, 120],</div><div class="line">        &apos;d&apos;: [130, 140, 150, 160]</div><div class="line">    &#125;)</div><div class="line">    </div><div class="line">    print df</div><div class="line">    print &apos;&apos; # Create a blank line between outputs</div><div class="line">    print df + s</div><div class="line">    </div><div class="line"># Adding when DataFrame column names don&apos;t match Series index</div><div class="line">if False:</div><div class="line">    s = pd.Series([1, 2, 3, 4])</div><div class="line">    df = pd.DataFrame(&#123;</div><div class="line">        &apos;a&apos;: [10, 20, 30, 40],</div><div class="line">        &apos;b&apos;: [50, 60, 70, 80],</div><div class="line">        &apos;c&apos;: [90, 100, 110, 120],</div><div class="line">        &apos;d&apos;: [130, 140, 150, 160]</div><div class="line">    &#125;)</div><div class="line">    </div><div class="line">    print df</div><div class="line">    print &apos;&apos; # Create a blank line between outputs</div><div class="line">    print df + s</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-Standardizing-Each-Column-Again"><a href="#Quiz-Standardizing-Each-Column-Again" class="headerlink" title="Quiz: Standardizing Each Column Again"></a>Quiz: Standardizing Each Column Again</h2><p>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line">import pandas as pd</div><div class="line"></div><div class="line"># Adding using +</div><div class="line">if False:</div><div class="line">    s = pd.Series([1, 2, 3, 4])</div><div class="line">    df = pd.DataFrame(&#123;</div><div class="line">        0: [10, 20, 30, 40],</div><div class="line">        1: [50, 60, 70, 80],</div><div class="line">        2: [90, 100, 110, 120],</div><div class="line">        3: [130, 140, 150, 160]</div><div class="line">    &#125;)</div><div class="line">    </div><div class="line">    print df</div><div class="line">    print &apos;&apos; # Create a blank line between outputs</div><div class="line">    print df + s</div><div class="line">    </div><div class="line"># Adding with axis=&apos;index&apos;</div><div class="line">if False:</div><div class="line">    s = pd.Series([1, 2, 3, 4])</div><div class="line">    df = pd.DataFrame(&#123;</div><div class="line">        0: [10, 20, 30, 40],</div><div class="line">        1: [50, 60, 70, 80],</div><div class="line">        2: [90, 100, 110, 120],</div><div class="line">        3: [130, 140, 150, 160]</div><div class="line">    &#125;)</div><div class="line">    </div><div class="line">    print df</div><div class="line">    print &apos;&apos; # Create a blank line between outputs</div><div class="line">    print df.add(s, axis=&apos;index&apos;)</div><div class="line">    # The functions sub(), mul(), and div() work similarly to add()</div><div class="line">    </div><div class="line"># Adding with axis=&apos;columns&apos;</div><div class="line">if False:</div><div class="line">    s = pd.Series([1, 2, 3, 4])</div><div class="line">    df = pd.DataFrame(&#123;</div><div class="line">        0: [10, 20, 30, 40],</div><div class="line">        1: [50, 60, 70, 80],</div><div class="line">        2: [90, 100, 110, 120],</div><div class="line">        3: [130, 140, 150, 160]</div><div class="line">    &#125;)</div><div class="line">    </div><div class="line">    print df</div><div class="line">    print &apos;&apos; # Create a blank line between outputs</div><div class="line">    print df.add(s, axis=&apos;columns&apos;)</div><div class="line">    # The functions sub(), mul(), and div() work similarly to add()</div><div class="line">    </div><div class="line">grades_df = pd.DataFrame(</div><div class="line">    data=&#123;&apos;exam1&apos;: [43, 81, 78, 75, 89, 70, 91, 65, 98, 87],</div><div class="line">          &apos;exam2&apos;: [24, 63, 56, 56, 67, 51, 79, 46, 72, 60]&#125;,</div><div class="line">    index=[&apos;Andre&apos;, &apos;Barry&apos;, &apos;Chris&apos;, &apos;Dan&apos;, &apos;Emilio&apos;, </div><div class="line">           &apos;Fred&apos;, &apos;Greta&apos;, &apos;Humbert&apos;, &apos;Ivan&apos;, &apos;James&apos;]</div><div class="line">)</div><div class="line"></div><div class="line">def standardize(df):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to standardize each column of the given</div><div class="line">    DataFrame. To standardize a variable, convert each value to the</div><div class="line">    number of standard deviations it is above or below the mean.</div><div class="line">    </div><div class="line">    This time, try to use vectorized operations instead of apply().</div><div class="line">    You should get the same results as you did before.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return None</div><div class="line"></div><div class="line">def standardize_rows(df):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Optional: Fill in this function to standardize each row of the given</div><div class="line">    DataFrame. Again, try not to use apply().</div><div class="line">    </div><div class="line">    This one is more challenging than standardizing each column!</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return None</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">def standardize(df):</div><div class="line">    return (df - df.mean()) / df.std(ddof=0)</div><div class="line"></div><div class="line">def standardize_rows(df):</div><div class="line">    mean_diff = df.sub(df.mean(axis=&apos;columns&apos;), axis=&apos;index&apos;)</div><div class="line">    return mean_diff.div(df.std(ddof=0, axis=&apos;columns&apos;), axis=&apos;index&apos;)</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-Pandas-groupby"><a href="#Quiz-Pandas-groupby" class="headerlink" title="Quiz: Pandas groupby()"></a>Quiz: Pandas groupby()</h2><p>code<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">import matplotlib.pyplot as plt</div><div class="line">import numpy as np</div><div class="line">import pandas as pd</div><div class="line">import seaborn as sns</div><div class="line"></div><div class="line">values = np.array([1, 3, 2, 4, 1, 6, 4])</div><div class="line">example_df = pd.DataFrame(&#123;</div><div class="line">    &apos;value&apos;: values,</div><div class="line">    &apos;even&apos;: values % 2 == 0,</div><div class="line">    &apos;above_three&apos;: values &gt; 3 </div><div class="line">&#125;, index=[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;, &apos;e&apos;, &apos;f&apos;, &apos;g&apos;])</div><div class="line"></div><div class="line"># Change False to True for each block of code to see what it does</div><div class="line"></div><div class="line"># Examine DataFrame</div><div class="line">if False:</div><div class="line">    print example_df</div><div class="line">    </div><div class="line"># Examine groups</div><div class="line">if False:</div><div class="line">    grouped_data = example_df.groupby(&apos;even&apos;)</div><div class="line">    # The groups attribute is a dictionary mapping keys to lists of row indexes</div><div class="line">    print grouped_data.groups</div><div class="line">    </div><div class="line"># Group by multiple columns</div><div class="line">if False:</div><div class="line">    grouped_data = example_df.groupby([&apos;even&apos;, &apos;above_three&apos;])</div><div class="line">    print grouped_data.groups</div><div class="line">    </div><div class="line"># Get sum of each group</div><div class="line">if False:</div><div class="line">    grouped_data = example_df.groupby(&apos;even&apos;)</div><div class="line">    print grouped_data.sum()</div><div class="line">    </div><div class="line"># Limit columns in result</div><div class="line">if False:</div><div class="line">    grouped_data = example_df.groupby(&apos;even&apos;)</div><div class="line">    </div><div class="line">    # You can take one or more columns from the result DataFrame</div><div class="line">    print grouped_data.sum()[&apos;value&apos;]</div><div class="line">    </div><div class="line">    print &apos;\n&apos; # Blank line to separate results</div><div class="line">    </div><div class="line">    # You can also take a subset of columns from the grouped data before </div><div class="line">    # collapsing to a DataFrame. In this case, the result is the same.</div><div class="line">    print grouped_data[&apos;value&apos;].sum()</div><div class="line">    </div><div class="line">filename = &apos;/datasets/ud170/subway/nyc_subway_weather.csv&apos;</div><div class="line">subway_df = pd.read_csv(filename)</div><div class="line"></div><div class="line">### Write code here to group the subway data by a variable of your choice, then</div><div class="line">### either print out the mean ridership within each group or create a plot.</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-Calculating-Hourly-Entries-and-Exits"><a href="#Quiz-Calculating-Hourly-Entries-and-Exits" class="headerlink" title="Quiz: Calculating Hourly Entries and Exits"></a>Quiz: Calculating Hourly Entries and Exits</h2><p>In the quiz where you calculated hourly entries and exits, you did so for a single set of cumulative entries. However, in the original data, there was a separate set of numbers for each station.</p>
<p>Thus, to correctly calculate the hourly entries and exits, it was necessary to group by station and day, then calculate the hourly entries and exits within each day.</p>
<p>Write a function to do that. You should use the <code>apply()</code> function to call the function you wrote previously. You should also make sure you restrict your grouped data to just the entries and exits columns, since your function may cause an error if it is called on non-numerical data types.</p>
<p>If you would like to learn more about using <code>groupby()</code> in Pandas, <a href="http://pandas.pydata.org/pandas-docs/stable/groupby.html" target="_blank" rel="external">this page</a> contains more details.</p>
<p>Note: You will not be able to reproduce the ENTRIESn_hourly and EXITSn_hourly columns in the full dataset using this method. When creating the dataset, we did extra processing to remove erroneous values.</p>
<h3 id="quiz"><a href="#quiz" class="headerlink" title="quiz"></a>quiz</h3><p>To clarify the structure of the data, the original data recorded the cumulative number of entries on each station at four-hour intervals. For the quiz, you just need to look at the differences between consecutive measurements on each station: by computing “hourly entries”, we just mean recording the number of new tallies between each recording period as a contrast to “cumulative entries”.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line">import pandas as pd</div><div class="line"></div><div class="line">values = np.array([1, 3, 2, 4, 1, 6, 4])</div><div class="line">example_df = pd.DataFrame(&#123;</div><div class="line">    &apos;value&apos;: values,</div><div class="line">    &apos;even&apos;: values % 2 == 0,</div><div class="line">    &apos;above_three&apos;: values &gt; 3 </div><div class="line">&#125;, index=[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;, &apos;e&apos;, &apos;f&apos;, &apos;g&apos;])</div><div class="line"></div><div class="line"># Change False to True for each block of code to see what it does</div><div class="line"></div><div class="line"># Standardize each group</div><div class="line">if False:</div><div class="line">    def standardize(xs):</div><div class="line">        return (xs - xs.mean()) / xs.std()</div><div class="line">    grouped_data = example_df.groupby(&apos;even&apos;)</div><div class="line">    print grouped_data[&apos;value&apos;].apply(standardize)</div><div class="line">    </div><div class="line"># Find second largest value in each group</div><div class="line">if False:</div><div class="line">    def second_largest(xs):</div><div class="line">        sorted_xs = xs.sort(inplace=False, ascending=False)</div><div class="line">        return sorted_xs.iloc[1]</div><div class="line">    grouped_data = example_df.groupby(&apos;even&apos;)</div><div class="line">    print grouped_data[&apos;value&apos;].apply(second_largest)</div><div class="line"></div><div class="line"># --- Quiz ---</div><div class="line"># DataFrame with cumulative entries and exits for multiple stations</div><div class="line">ridership_df = pd.DataFrame(&#123;</div><div class="line">    &apos;UNIT&apos;: [&apos;R051&apos;, &apos;R079&apos;, &apos;R051&apos;, &apos;R079&apos;, &apos;R051&apos;, &apos;R079&apos;, &apos;R051&apos;, &apos;R079&apos;, &apos;R051&apos;],</div><div class="line">    &apos;TIMEn&apos;: [&apos;00:00:00&apos;, &apos;02:00:00&apos;, &apos;04:00:00&apos;, &apos;06:00:00&apos;, &apos;08:00:00&apos;, &apos;10:00:00&apos;, &apos;12:00:00&apos;, &apos;14:00:00&apos;, &apos;16:00:00&apos;],</div><div class="line">    &apos;ENTRIESn&apos;: [3144312, 8936644, 3144335, 8936658, 3144353, 8936687, 3144424, 8936819, 3144594],</div><div class="line">    &apos;EXITSn&apos;: [1088151, 13755385,  1088159, 13755393,  1088177, 13755598, 1088231, 13756191,  1088275]</div><div class="line">&#125;)</div><div class="line"></div><div class="line">def get_hourly_entries_and_exits(entries_and_exits):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to take a DataFrame with cumulative entries</div><div class="line">    and exits and return a DataFrame with hourly entries and exits.</div><div class="line">    The hourly entries and exits should be calculated separately for</div><div class="line">    each station (the &apos;UNIT&apos; column).</div><div class="line">    </div><div class="line">    Hint: Take a look at the `get_hourly_entries_and_exits()` function</div><div class="line">    you wrote in a previous quiz, DataFrame Vectorized Operations. If</div><div class="line">    you copy it here and rename it, you can use it and the `.apply()`</div><div class="line">    function to help solve this problem.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return None</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">def hourly_entries_and_exits(entries_and_exits):</div><div class="line">    return entries_and_exits - entries_and_exits.shift(1)</div><div class="line">    </div><div class="line">def get_hourly_entries_and_exits(entries_and_exits):</div><div class="line">    grouped_data = entries_and_exits.groupby(&apos;UNIT&apos;)</div><div class="line">    return grouped_data[[&apos;ENTRIESn&apos;, &apos;EXITSn&apos;]].apply(hourly_entries_and_exits)</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-Combining-Pandas-DataFrames"><a href="#Quiz-Combining-Pandas-DataFrames" class="headerlink" title="Quiz: Combining Pandas DataFrames"></a>Quiz: Combining Pandas DataFrames</h2><p>In the merged table on the right, the join dates in the third and fourth rows should be 5/19 and 5/11, reflecting the account key mapping in the enrollments table.<br>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">import pandas as pd</div><div class="line"></div><div class="line">subway_df = pd.DataFrame(&#123;</div><div class="line">    &apos;UNIT&apos;: [&apos;R003&apos;, &apos;R003&apos;, &apos;R003&apos;, &apos;R003&apos;, &apos;R003&apos;, &apos;R004&apos;, &apos;R004&apos;, &apos;R004&apos;,</div><div class="line">             &apos;R004&apos;, &apos;R004&apos;],</div><div class="line">    &apos;DATEn&apos;: [&apos;05-01-11&apos;, &apos;05-02-11&apos;, &apos;05-03-11&apos;, &apos;05-04-11&apos;, &apos;05-05-11&apos;,</div><div class="line">              &apos;05-01-11&apos;, &apos;05-02-11&apos;, &apos;05-03-11&apos;, &apos;05-04-11&apos;, &apos;05-05-11&apos;],</div><div class="line">    &apos;hour&apos;: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],</div><div class="line">    &apos;ENTRIESn&apos;: [ 4388333,  4388348,  4389885,  4391507,  4393043, 14656120,</div><div class="line">                 14656174, 14660126, 14664247, 14668301],</div><div class="line">    &apos;EXITSn&apos;: [ 2911002,  2911036,  2912127,  2913223,  2914284, 14451774,</div><div class="line">               14451851, 14454734, 14457780, 14460818],</div><div class="line">    &apos;latitude&apos;: [ 40.689945,  40.689945,  40.689945,  40.689945,  40.689945,</div><div class="line">                  40.69132 ,  40.69132 ,  40.69132 ,  40.69132 ,  40.69132 ],</div><div class="line">    &apos;longitude&apos;: [-73.872564, -73.872564, -73.872564, -73.872564, -73.872564,</div><div class="line">                  -73.867135, -73.867135, -73.867135, -73.867135, -73.867135]</div><div class="line">&#125;)</div><div class="line"></div><div class="line">weather_df = pd.DataFrame(&#123;</div><div class="line">    &apos;DATEn&apos;: [&apos;05-01-11&apos;, &apos;05-01-11&apos;, &apos;05-02-11&apos;, &apos;05-02-11&apos;, &apos;05-03-11&apos;,</div><div class="line">              &apos;05-03-11&apos;, &apos;05-04-11&apos;, &apos;05-04-11&apos;, &apos;05-05-11&apos;, &apos;05-05-11&apos;],</div><div class="line">    &apos;hour&apos;: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],</div><div class="line">    &apos;latitude&apos;: [ 40.689945,  40.69132 ,  40.689945,  40.69132 ,  40.689945,</div><div class="line">                  40.69132 ,  40.689945,  40.69132 ,  40.689945,  40.69132 ],</div><div class="line">    &apos;longitude&apos;: [-73.872564, -73.867135, -73.872564, -73.867135, -73.872564,</div><div class="line">                  -73.867135, -73.872564, -73.867135, -73.872564, -73.867135],</div><div class="line">    &apos;pressurei&apos;: [ 30.24,  30.24,  30.32,  30.32,  30.14,  30.14,  29.98,  29.98,</div><div class="line">                   30.01,  30.01],</div><div class="line">    &apos;fog&apos;: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],</div><div class="line">    &apos;rain&apos;: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],</div><div class="line">    &apos;tempi&apos;: [ 52. ,  52. ,  48.9,  48.9,  54. ,  54. ,  57.2,  57.2,  48.9,  48.9],</div><div class="line">    &apos;wspdi&apos;: [  8.1,   8.1,   6.9,   6.9,   3.5,   3.5,  15. ,  15. ,  15. ,  15. ]</div><div class="line">&#125;)</div><div class="line"></div><div class="line">def combine_dfs(subway_df, weather_df):</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    Fill in this function to take 2 DataFrames, one with subway data and one with weather data,</div><div class="line">    and return a single dataframe with one row for each date, hour, and location. Only include</div><div class="line">    times and locations that have both subway data and weather data available.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    return None</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">def combine_dfs(subway_df, weather_df):</div><div class="line">    return subway_df.merge(weather_df, on=[&apos;DATEn&apos;, &apos;hour&apos;, &apos;latitude&apos;, &apos;longitude&apos;], how=&apos;inner&apos;)</div></pre></td></tr></table></figure></p>
<h2 id="Quiz-Plotting-for-DataFrames"><a href="#Quiz-Plotting-for-DataFrames" class="headerlink" title="Quiz: Plotting for DataFrames"></a>Quiz: Plotting for DataFrames</h2><p>Just like Pandas Series, DataFrames also have a plot() method. If <code>df</code> is a DataFrame, then <code>df.plot()</code> will produce a line plot with a different colored line for each variable in the DataFrame. This can be a convenient way to get a quick look at your data, especially for small DataFrames, but for more complicated plots you will usually want to use matplotlib directly.</p>
<p>In the following quiz, create a plot of your choice showing something interesting about the New York subway data. For example, you might create:</p>
<p>Histograms of subway ridership on both days with rain and days without rain<br>A scatterplot of subway stations with latitude and longitude as the x and y axes and ridership as the bubble size<br>If you choose this option, you may wish to use the <code>as_index=False</code> argument to groupby(). There is example code in the following quiz.<br>A scatterplot with subway ridership on one axis and precipitation or temperature on the other<br>If you’re not sure how to make the plot you want, try searching on Google or take a look at the <a href="http://matplotlib.org/api/pyplot_api.html" target="_blank" rel="external">matplotlib documentation</a>. Once you’ve created a plot you’re happy with, share what you’ve found on the forums!<br>quiz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">import matplotlib.pyplot as plt</div><div class="line">import numpy as np</div><div class="line">import pandas as pd</div><div class="line">import seaborn as sns</div><div class="line"></div><div class="line">values = np.array([1, 3, 2, 4, 1, 6, 4])</div><div class="line">example_df = pd.DataFrame(&#123;</div><div class="line">    &apos;value&apos;: values,</div><div class="line">    &apos;even&apos;: values % 2 == 0,</div><div class="line">    &apos;above_three&apos;: values &gt; 3 </div><div class="line">&#125;, index=[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;, &apos;e&apos;, &apos;f&apos;, &apos;g&apos;])</div><div class="line"></div><div class="line"># Change False to True for this block of code to see what it does</div><div class="line"></div><div class="line"># groupby() without as_index</div><div class="line">if False:</div><div class="line">    first_even = example_df.groupby(&apos;even&apos;).first()</div><div class="line">    print first_even</div><div class="line">    print first_even[&apos;even&apos;] # Causes an error. &apos;even&apos; is no longer a column in the DataFrame</div><div class="line">    </div><div class="line"># groupby() with as_index=False</div><div class="line">if False:</div><div class="line">    first_even = example_df.groupby(&apos;even&apos;, as_index=False).first()</div><div class="line">    print first_even</div><div class="line">    print first_even[&apos;even&apos;] # Now &apos;even&apos; is still a column in the DataFrame</div><div class="line"></div><div class="line">filename = &apos;/datasets/ud170/subway/nyc_subway_weather.csv&apos;</div><div class="line">subway_df = pd.read_csv(filename)</div><div class="line"></div><div class="line">## Make a plot of your choice here showing something interesting about the subway data.</div><div class="line">## Matplotlib documentation here: http://matplotlib.org/api/pyplot_api.html</div><div class="line">## Once you&apos;ve got something you&apos;re happy with, share it on the forums!</div></pre></td></tr></table></figure></p>
<p>solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">location = subway_df.groupby([&apos;latitude&apos;, &apos;longitude&apos;], as_index=False).mean()</div><div class="line">scale = location[&apos;ENTRIESn_hourly&apos;] / location[&apos;ENTRIESn_hourly&apos;].std(ddof=0)</div><div class="line">plt.scatter(location[&apos;latitude&apos;], location[&apos;longitude&apos;], s=scale)</div></pre></td></tr></table></figure></p>
<h2 id="Three-Dimensional-Data"><a href="#Three-Dimensional-Data" class="headerlink" title="Three-Dimensional Data"></a>Three-Dimensional Data</h2><h3 id="Three-Dimensional-Data-1"><a href="#Three-Dimensional-Data-1" class="headerlink" title="Three-Dimensional Data"></a>Three-Dimensional Data</h3><p>Now that you’ve worked with one-dimensional and two-dimensional data, you might be wondering how to work with three or more dimensions.</p>
<h3 id="3D-data-in-NumPy"><a href="#3D-data-in-NumPy" class="headerlink" title="3D data in NumPy"></a>3D data in NumPy</h3><p>NumPy arrays can have arbitrarily many dimensions. Just like you can create a 1D array from a list, and a 2D array from a list of lists, you can create a 3D array from a list of lists of lists, and so on. For example, the following code would create a 3D array:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">a = np.array([</div><div class="line">    [[&apos;A1a&apos;, &apos;A1b&apos;, &apos;A1c&apos;], [&apos;A2a&apos;, &apos;A2b&apos;, &apos;A2c&apos;]],</div><div class="line">    [[&apos;B1a&apos;, &apos;B1b&apos;, &apos;B1c&apos;], [&apos;B2a&apos;, &apos;B2b&apos;, &apos;B2c&apos;]]</div><div class="line">])</div></pre></td></tr></table></figure></p>
<h3 id="3D-data-in-Pandas"><a href="#3D-data-in-Pandas" class="headerlink" title="3D data in Pandas"></a>3D data in Pandas</h3><p>Pandas has a data structure called a Panel, which is similar to a DataFrame or a Series, but for 3D data. If you would like, you can learn more about Panels <a href="http://pandas.pydata.org/pandas-docs/stable/dsintro.html#panel" target="_blank" rel="external">here</a>.</p>
<h2 id="Conclusion-2"><a href="#Conclusion-2" class="headerlink" title="Conclusion"></a>Conclusion</h2><h1 id="Final-Project-Investigate-a-Dataset"><a href="#Final-Project-Investigate-a-Dataset" class="headerlink" title="Final Project: Investigate a Dataset"></a>Final Project: Investigate a Dataset</h1>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Python/" rel="tag"># Python</a>
          
            <a href="/tags/Udacity/" rel="tag"># Udacity</a>
          
            <a href="/tags/Data-Analysis/" rel="tag"># Data Analysis</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/06/20/Udacity DAND Notebook/" rel="next" title="Udacity DAND Notebook">
                <i class="fa fa-chevron-left"></i> Udacity DAND Notebook
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/06/22/Udacity ud651 DA with R Notebook/" rel="prev" title="Udacity ud651 DA with R Notebook">
                Udacity ud651 DA with R Notebook <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  
    <div class="sidebar-toggle">
      <div class="sidebar-toggle-line-wrap">
        <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
        <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
        <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
      </div>
    </div>
  

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          
            
          
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="SSQ" />
          <p class="site-author-name" itemprop="name">SSQ</p>
           
              <p class="site-description motion-element" itemprop="description">Notebook for quick search</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">35</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">33</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/SSQ" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Data-Analysis-Process"><span class="nav-number">1.</span> <span class="nav-text">Data Analysis Process</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Setting-Up-Your-System"><span class="nav-number">1.1.</span> <span class="nav-text">Setting Up Your System</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Intro-to-CSVs"><span class="nav-number">1.2.</span> <span class="nav-text">Intro to CSVs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CSVs-in-Python"><span class="nav-number">1.3.</span> <span class="nav-text">CSVs in Python</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Python’s-csv-Module"><span class="nav-number">1.3.1.</span> <span class="nav-text">Python’s csv Module</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Iterators-in-Python"><span class="nav-number">1.3.2.</span> <span class="nav-text">Iterators in Python</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solutions"><span class="nav-number">1.3.3.</span> <span class="nav-text">Solutions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Fixing-Data-Types"><span class="nav-number">1.4.</span> <span class="nav-text">Fixing Data Types</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Questions-about-Student-Data"><span class="nav-number">1.5.</span> <span class="nav-text">Questions about Student Data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Investigating-the-Data"><span class="nav-number">1.6.</span> <span class="nav-text">Investigating the Data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Problems-in-the-Data"><span class="nav-number">1.7.</span> <span class="nav-text">Problems in the Data</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Removing-an-Element-from-a-Dictionary"><span class="nav-number">1.7.1.</span> <span class="nav-text">Removing an Element from a Dictionary</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solutions-1"><span class="nav-number">1.7.2.</span> <span class="nav-text">Solutions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Updated-Code-for-Previous-Exercise"><span class="nav-number">1.7.3.</span> <span class="nav-text">Updated Code for Previous Exercise</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Missing-Engagement-Records"><span class="nav-number">1.8.</span> <span class="nav-text">Missing Engagement Records</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Checking-for-More-Problem-Records"><span class="nav-number">1.9.</span> <span class="nav-text">Checking for More Problem Records</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tracking-Down-the-Remaining-Problems"><span class="nav-number">1.10.</span> <span class="nav-text">Tracking Down the Remaining Problems</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Refining-the-Question"><span class="nav-number">1.11.</span> <span class="nav-text">Refining the Question</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Exploratory-Data-Analysis"><span class="nav-number">1.11.1.</span> <span class="nav-text">Exploratory Data Analysis</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solutions-2"><span class="nav-number">1.11.2.</span> <span class="nav-text">Solutions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Getting-Data-from-First-Week"><span class="nav-number">1.12.</span> <span class="nav-text">Getting Data from First Week</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Indulge-Curiosity"><span class="nav-number">1.13.</span> <span class="nav-text">Indulge Curiosity</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Exploring-Student-Engagement"><span class="nav-number">1.14.</span> <span class="nav-text">Exploring Student Engagement</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Debugging-Data-Analysis-Code"><span class="nav-number">1.15.</span> <span class="nav-text">Debugging Data Analysis Code</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lessons-Completed-in-First-Week"><span class="nav-number">1.16.</span> <span class="nav-text">Lessons Completed in First Week</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Number-of-Visits-in-the-First-Week"><span class="nav-number">1.17.</span> <span class="nav-text">Number of Visits in the First Week</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Splitting-out-Passing-Students"><span class="nav-number">1.18.</span> <span class="nav-text">Splitting out Passing Students</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Comparing-the-Two-Student-Groups"><span class="nav-number">1.19.</span> <span class="nav-text">Quiz: Comparing the Two Student Groups</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Making-Histograms"><span class="nav-number">1.20.</span> <span class="nav-text">Quiz: Making Histograms</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Visualizing-data"><span class="nav-number">1.20.1.</span> <span class="nav-text">Visualizing data</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Making-histograms-in-Python"><span class="nav-number">1.20.2.</span> <span class="nav-text">Making histograms in Python</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Making-histograms-of-student-data"><span class="nav-number">1.20.3.</span> <span class="nav-text">Making histograms of student data</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Are-your-Results-Just-Noise"><span class="nav-number">1.21.</span> <span class="nav-text">Are your Results Just Noise?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Statistics"><span class="nav-number">1.21.1.</span> <span class="nav-text">Statistics</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Correlation-Does-Not-Imply-Causation"><span class="nav-number">1.22.</span> <span class="nav-text">Correlation Does Not Imply Causation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Cheese-and-Bedsheet-Tangling"><span class="nav-number">1.22.1.</span> <span class="nav-text">Cheese and Bedsheet Tangling</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#A-B-Testing"><span class="nav-number">1.22.2.</span> <span class="nav-text">A/B Testing</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Predicting-Based-on-Many-Features"><span class="nav-number">1.23.</span> <span class="nav-text">Predicting Based on Many Features</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Machine-Learning"><span class="nav-number">1.23.1.</span> <span class="nav-text">Machine Learning</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Communication"><span class="nav-number">1.24.</span> <span class="nav-text">Communication</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Improving-Plots-and-Sharing-Findings"><span class="nav-number">1.25.</span> <span class="nav-text">Quiz: Improving Plots and Sharing Findings</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Adding-labels-and-titles"><span class="nav-number">1.25.1.</span> <span class="nav-text">Adding labels and titles</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Making-plots-look-nicer-with-seaborn"><span class="nav-number">1.25.2.</span> <span class="nav-text">Making plots look nicer with seaborn</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Adding-extra-arguments-to-your-plot"><span class="nav-number">1.25.3.</span> <span class="nav-text">Adding extra arguments to your plot</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Improving-one-of-your-plots"><span class="nav-number">1.25.4.</span> <span class="nav-text">Improving one of your plots</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sharing-your-findings"><span class="nav-number">1.25.5.</span> <span class="nav-text">Sharing your findings</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Data-Analysis-and-Related-Terms"><span class="nav-number">1.26.</span> <span class="nav-text">Data Analysis and Related Terms</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Conclusion"><span class="nav-number">1.27.</span> <span class="nav-text">Conclusion</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Solutions"><span class="nav-number">1.28.</span> <span class="nav-text">Quiz Solutions</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#CSVs-in-Python-1"><span class="nav-number">1.28.1.</span> <span class="nav-text">CSVs in Python</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Investigating-the-Data-1"><span class="nav-number">1.28.2.</span> <span class="nav-text">Investigating the Data</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Problems-in-the-Data-1"><span class="nav-number">1.28.3.</span> <span class="nav-text">Problems in the Data</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Missing-engagement-records"><span class="nav-number">1.28.4.</span> <span class="nav-text">Missing engagement records</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Checking-for-more-problem-records"><span class="nav-number">1.28.5.</span> <span class="nav-text">Checking for more problem records</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Refining-the-Question-1"><span class="nav-number">1.28.6.</span> <span class="nav-text">Refining the Question</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Getting-Data-from-First-Week-1"><span class="nav-number">1.28.7.</span> <span class="nav-text">Getting Data from First Week</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Debugging-Data-Analysis-Code-1"><span class="nav-number">1.28.8.</span> <span class="nav-text">Debugging Data Analysis Code</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Fixing-Bug-in-within-one-week"><span class="nav-number">1.28.9.</span> <span class="nav-text">Fixing Bug in within_one_week()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Lessons-Completed-in-First-Week-1"><span class="nav-number">1.28.10.</span> <span class="nav-text">Lessons Completed in First Week</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Number-of-Visits-in-the-First-Week-1"><span class="nav-number">1.28.11.</span> <span class="nav-text">Number of Visits in the First Week</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Splitting-out-Passing-Students-1"><span class="nav-number">1.28.12.</span> <span class="nav-text">Splitting out Passing Students</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Comparing-the-Two-Student-Groups"><span class="nav-number">1.28.13.</span> <span class="nav-text">Comparing the Two Student Groups</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Making-Histograms"><span class="nav-number">1.28.14.</span> <span class="nav-text">Making Histograms</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Fixing-the-Number-of-Bins"><span class="nav-number">1.28.14.1.</span> <span class="nav-text">Fixing the Number of Bins</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Improving-Plots-and-Sharing-Findings"><span class="nav-number">1.28.15.</span> <span class="nav-text">Improving Plots and Sharing Findings</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Survey-Says"><span class="nav-number">1.29.</span> <span class="nav-text">Quiz: Survey Says!</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Numpy-and-Pandas-for-1D-Data"><span class="nav-number">2.</span> <span class="nav-text">Numpy and Pandas for 1D Data</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction"><span class="nav-number">2.1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Gapminder-Data"><span class="nav-number">2.2.</span> <span class="nav-text">Quiz: Gapminder Data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#One-Dimensional-Data-in-NumPy-and-Pandas"><span class="nav-number">2.3.</span> <span class="nav-text">One-Dimensional Data in NumPy and Pandas</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-NumPy-Arrays"><span class="nav-number">2.4.</span> <span class="nav-text">Quiz: NumPy Arrays</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Vectorized-Operations"><span class="nav-number">2.5.</span> <span class="nav-text">Quiz: Vectorized Operations</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Multiplying-by-a-Scalar"><span class="nav-number">2.6.</span> <span class="nav-text">Quiz: Multiplying by a Scalar</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Calculate-Overall-Completion-Rate"><span class="nav-number">2.7.</span> <span class="nav-text">Quiz: Calculate Overall Completion Rate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Standardizing-Data"><span class="nav-number">2.8.</span> <span class="nav-text">Quiz: Standardizing Data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-NumPy-Index-Arrays"><span class="nav-number">2.9.</span> <span class="nav-text">Quiz: NumPy Index Arrays</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-vs"><span class="nav-number">2.10.</span> <span class="nav-text">Quiz: + vs. +=</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-In-Place-vs-Not-In-Place"><span class="nav-number">2.11.</span> <span class="nav-text">Quiz: In-Place vs. Not In-Place</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Pandas-Series"><span class="nav-number">2.12.</span> <span class="nav-text">Quiz: Pandas Series</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Series-Indexes"><span class="nav-number">2.13.</span> <span class="nav-text">Quiz: Series Indexes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Vectorized-Operations-and-Series-Indexes"><span class="nav-number">2.14.</span> <span class="nav-text">Quiz: Vectorized Operations and Series Indexes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Filling-Missing-Values"><span class="nav-number">2.15.</span> <span class="nav-text">Quiz: Filling Missing Values</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Pandas-Series-apply"><span class="nav-number">2.16.</span> <span class="nav-text">Quiz: Pandas Series apply()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Plotting-in-Pandas"><span class="nav-number">2.17.</span> <span class="nav-text">Quiz: Plotting in Pandas</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Conclusion-1"><span class="nav-number">2.18.</span> <span class="nav-text">Conclusion</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Numpy-and-Pandas-for-2D-Data"><span class="nav-number">3.</span> <span class="nav-text">Numpy and Pandas for 2D Data</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction-1"><span class="nav-number">3.1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Subway-Data"><span class="nav-number">3.2.</span> <span class="nav-text">Quiz: Subway Data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Two-Dimensional-NumPy-Arrays"><span class="nav-number">3.3.</span> <span class="nav-text">Quiz: Two-Dimensional NumPy Arrays</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-NumPy-Axis"><span class="nav-number">3.4.</span> <span class="nav-text">Quiz: NumPy Axis</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NumPy-and-Pandas-Data-types"><span class="nav-number">3.5.</span> <span class="nav-text">NumPy and Pandas Data types</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Accessing-Elements-of-a-DataFrame"><span class="nav-number">3.6.</span> <span class="nav-text">Quiz: Accessing Elements of a DataFrame</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Loading-Data-into-a-DataFrame"><span class="nav-number">3.7.</span> <span class="nav-text">Loading Data into a DataFrame</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Calculating-Correlation"><span class="nav-number">3.8.</span> <span class="nav-text">Quiz: Calculating Correlation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Understand-and-Interpreting-Correlations"><span class="nav-number">3.8.1.</span> <span class="nav-text">Understand and Interpreting Correlations</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Corrected-vs-Uncorrected-Standard-Deviation"><span class="nav-number">3.8.2.</span> <span class="nav-text">Corrected vs. Uncorrected Standard Deviation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Previous-Exercise"><span class="nav-number">3.8.3.</span> <span class="nav-text">Previous Exercise</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Pearson’s-r-in-NumPy"><span class="nav-number">3.8.4.</span> <span class="nav-text">Pearson’s r in NumPy</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Pandas-Axis-Names"><span class="nav-number">3.9.</span> <span class="nav-text">Pandas Axis Names</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-DataFrame-Vectorized-Operations"><span class="nav-number">3.10.</span> <span class="nav-text">Quiz: DataFrame Vectorized Operations</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Pandas-shift"><span class="nav-number">3.10.1.</span> <span class="nav-text">Pandas shift()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Alternative-Solution"><span class="nav-number">3.10.2.</span> <span class="nav-text">Alternative Solution</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-DataFrame-applymap"><span class="nav-number">3.11.</span> <span class="nav-text">Quiz: DataFrame applymap()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-DataFrame-apply"><span class="nav-number">3.12.</span> <span class="nav-text">Quiz: DataFrame apply()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-DataFrame-apply-Use-Case-2"><span class="nav-number">3.13.</span> <span class="nav-text">Quiz: DataFrame apply() Use Case 2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Adding-a-DataFrame-to-a-Series"><span class="nav-number">3.14.</span> <span class="nav-text">Quiz: Adding a DataFrame to a Series</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Standardizing-Each-Column-Again"><span class="nav-number">3.15.</span> <span class="nav-text">Quiz: Standardizing Each Column Again</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Pandas-groupby"><span class="nav-number">3.16.</span> <span class="nav-text">Quiz: Pandas groupby()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Calculating-Hourly-Entries-and-Exits"><span class="nav-number">3.17.</span> <span class="nav-text">Quiz: Calculating Hourly Entries and Exits</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#quiz"><span class="nav-number">3.17.1.</span> <span class="nav-text">quiz</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Combining-Pandas-DataFrames"><span class="nav-number">3.18.</span> <span class="nav-text">Quiz: Combining Pandas DataFrames</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quiz-Plotting-for-DataFrames"><span class="nav-number">3.19.</span> <span class="nav-text">Quiz: Plotting for DataFrames</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Three-Dimensional-Data"><span class="nav-number">3.20.</span> <span class="nav-text">Three-Dimensional Data</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Three-Dimensional-Data-1"><span class="nav-number">3.20.1.</span> <span class="nav-text">Three-Dimensional Data</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3D-data-in-NumPy"><span class="nav-number">3.20.2.</span> <span class="nav-text">3D data in NumPy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3D-data-in-Pandas"><span class="nav-number">3.20.3.</span> <span class="nav-text">3D data in Pandas</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Conclusion-2"><span class="nav-number">3.21.</span> <span class="nav-text">Conclusion</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Final-Project-Investigate-a-Dataset"><span class="nav-number">4.</span> <span class="nav-text">Final Project: Investigate a Dataset</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">SSQ</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://SSQ.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'https://ssq.github.io/2017/06/20/Udacity ud170 Intro to DA Notebook/';
          this.page.identifier = '2017/06/20/Udacity ud170 Intro to DA Notebook/';
          this.page.title = 'Udacity ud170 Intro to DA Notebook';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://SSQ.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  








  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (search_path.endsWith("json")) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("MWlUL7cwf0gV4nd1BczDGmFm-gzGzoHsz", "YwuYEA1xBo0rm9hzIjUwOm2F");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
